(window.webpackJsonp=window.webpackJsonp||[]).push([[19,50],{446:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return d}));var a=r(191);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const i=e=>Object(a.b)(n({},e,{id:"author_add_paper_position_select"})),c=e=>Object(a.b)(n({},e,{},e,{id:"author_add_paper_position_unselect"})),l=e=>Object(a.b)(n({},e,{id:"author_add_paper_reason"})),u=e=>Object(a.b)(n({},e,{id:"author_add_paper_reason_back"})),p=()=>Object(a.b)({id:"author_add_paper_result"}),h=()=>Object(a.b)({id:"author_add_paper_search"}),d=()=>Object(a.b)({id:"author_add_paper_submit"})},462:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return i}));var a=r(9);function o(e){let{children:t}=e;if(!t)return null;const r=a.Children.toArray(t);return a.createElement("div",{className:"account-bar"},a.createElement("div",{className:"account-bar__columns"},a.createElement("div",{className:"account-bar__column account-bar__left"},r.find(e=>e.type===n)),a.createElement("div",{className:"account-bar__column account-bar__message"},r.find(e=>e.type===i)),a.createElement("div",{className:"account-bar__column account-bar__right"},r.find(e=>e.type===s))))}function n(e){let{children:t}=e;return t}function s(e){let{children:t}=e;return t}function i(e){let{children:t}=e;return t}},465:function(e,t,r){"use strict";var a=r(575);t.a=Object(a.a)({AUTHOR_PAPER:"authorPaper",PAPER_CITATION:"paperCitation"})},491:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return s}));const a=13,o=27,n=37,s=39,i={ENTER:a,ESC:o,LEFT:n,RIGHT:s};Object.freeze(i);Object.freeze(Object.keys(i).reduce((e,t)=>(e[i[t]]=t,e),{}))},514:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l})),r.d(t,"exampleConfig",(function(){return u}));var a=r(37),o=r(9),n=r(377),s=r.n(n);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e){let{children:t,className:r,isInline:a,isOptional:n,optionalLabel:l}=e,u=c(e,["children","className","isInline","isOptional","optionalLabel"]);return o.createElement("div",i({},u,{className:s()({"cl-field-label":!0,"cl-field-label--is-inline":a,"cl-field-label--is-optional":n},r)}),o.createElement("span",{className:"cl-field-label__content"},t),n&&o.createElement("span",{className:"cl-field-label__optional"},l))}l.defaultProps={isInline:!1,isOptional:!1,optionalLabel:Object(a.c)(e=>e.componentLibrary.form.fieldLabel.optionalLabel)};const u={getComponent:async()=>l,fields:[{name:"isInline",desc:"Position the component inline with other elements (like a radio button)",value:{type:"boolean",default:l.defaultProps.isInline}},{name:"isOptional",desc:"Whether the field is optional",value:{type:"boolean",default:l.defaultProps.isOptional}},{name:"children",desc:"Content to be displayed within the component",value:{type:"jsx",default:"",transform:e=>o.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}},{name:"optionalLabel",desc:"Content to be displayed within the component",value:{type:"jsx",default:l.defaultProps.optionalLabel,transform:e=>o.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}}],examples:[{title:"Required",desc:"Label for a field which is required",props:{children:"Email Address"}},{title:"Optional (default)",desc:"Label for a field which is optional",props:{children:"Affiliation",isOptional:!0}},{title:"Optional (custom)",desc:"Label for a field which is optional",props:{children:"Affiliation",isOptional:!0,optionalLabel:"If you have one"}},{title:"Checkbox",desc:"Label for a checkbox",props:{children:"Checkbox",isInline:!0},render:e=>o.createElement("label",null,o.createElement("input",{type:"checkbox",className:"legacy__input",style:{marginRight:"7px"}}),e)}],events:{}}},518:function(e,t,r){"use strict";function a(e){return"https://www.facebook.com/sharer/sharer.php?u=".concat(e)}function o(e,t){return"https://twitter.com/intent/tweet?url=".concat(e,"&text=").concat(t)}function n(e){return"https://api.semanticscholar.org/CorpusID:".concat(e)}r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return n}))},519:function(e,t,r){"use strict";var a=r(22),o=r(0);const n=Object(a.a)({id:"twitter",name:"Twitter"}),s=Object(a.a)({id:"facebook",name:"Facebook"}),i=Object(a.a)({id:"email",name:"Email"}),c=Object(a.a)({id:"wikipedia",name:"Wikipedia"}),l=Object(a.a)({id:"direct_link",name:"Direct Link"}),u={TWITTER:n,FACEBOOK:s,EMAIL:i,WIKIPEDIA:c,DIRECT_LINK:l,shareOptions:()=>o.List.of(i,n,s,c,l)};Object.freeze(u),t.a=u},521:function(e,t,r){"use strict";r.d(t,"a",(function(){return T}));var a=r(397),o=r(393),n=r(388),s=r(378),i=r(138),c=r(142),l=(r(116),r(118),r(405)),u=r(73),p=r(515),h=r(11),d=r(193),m=r(37),b=r(7),g=r(145),_=r(166),f=r(97),O=r(396),E=r(465),y=r(47),S=r(66),P=r(377),C=r.n(P),v=r(0),j=r(8),N=r.n(j),A=r(9);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class T extends A.Component{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),w(this,"doFetchSuggestions",()=>{const{queryText:e}=this.state,{suggestionType:t}=this.props;if(!(e.length<3))switch(t){case E.a.PAPER_CITATION:this.fetchPaperCitationCompletions();break;case E.a.AUTHOR_PAPER:this.fetchAuthorPaperCompletions();break;default:return void b.a.warn("Invalid: SuggestionType ".concat(t," is not associated with a completion call."))}}),w(this,"fetchPaperCitationCompletions",()=>{const{paperDetail:e,queryText:t}=this.state,{weblabStore:r,api:a}=this.context;if(!r.isFeatureEnabled(h.b.PDPCitationSuggestions)||!e)return;const o=e.paper.id;a.fetchCitationCompletions({paperId:o,prefixQuery:t}).then(e=>this.setSuggestions(e,!1))}),w(this,"fetchAuthorPaperCompletions",()=>{const{authorDetail:e,queryText:t}=this.state,{api:r}=this.context;if(!e)return;const a=e.author.id;r.fetchAuthorPaperCompletions({authorId:a,prefixQuery:t}).then(e=>this.setSuggestions(e,!0))}),w(this,"setSuggestions",(e,t)=>{const{queryText:r}=this.state,a=v.List(e.resultData.completions);t&&a.map(e=>{e.completionType===p.a.AUTHOR.pluralId&&(e.completionType=p.a.COAUTHOR.pluralId)}),this.setState(e=>{const t=e.queryText===r?r:e.suggestQueryText;return{suggestions:a,suggestQueryText:t}})}),w(this,"onChangeQueryText",e=>{const t=e.currentTarget.value;t.length>=3?this.setState({queryText:t,showSuggestions:!0,selectedSuggestionIndex:null},this.fetchSuggestions):this.setState({queryText:t,suggestQueryText:t,showSuggestions:!1,selectedSuggestionIndex:null})}),w(this,"clickSuggestion",()=>{this.setState({showSuggestions:!1},this.toggleFacetToSelectedSuggestion()),this.props.onSearchbarCondense&&this.props.onSearchbarCondense()}),w(this,"toggleFacetToSelectedSuggestion",()=>{const{selectedSuggestionIndex:e,suggestions:t}=this.state,{injectQueryStore:r}=this.props,{router:a}=this.context;if(null===e)return;const o=e||0,n=t.get(o),s=n.completionType,i=n.completion.text;switch(s){case p.a.AUTHOR.pluralId:r.routeToToggleFilter(p.a.AUTHOR.id,i,a);break;case p.a.COAUTHOR.pluralId:r.routeToToggleFilter(p.a.COAUTHOR.id,i,a);break;case p.a.PUBLICATION_TYPE.pluralId:r.routeToToggleFilter(p.a.PUBLICATION_TYPE.id,i,a);break;case p.a.VENUE.id:r.routeToToggleFilter(p.a.VENUE.id,i,a);break;case p.a.FIELDS_OF_STUDY.pluralId:{const e=Object(d.c)(i);r.routeToToggleFilter(p.a.FIELDS_OF_STUDY.pluralId,e.id,a);break}}}),w(this,"onSubmitQueryString",e=>{e.preventDefault();const{router:t}=this.context,{injectQueryStore:r,suggestionType:a}=this.props,o=this.state.queryText.trim();r.routeToQueryString(o,t);const n=this.getEventTarget(a);Object(y.a)(O.a.create(n,{queryString:o}))}),w(this,"onKeyDown",e=>{const{selectedSuggestionIndex:t,suggestions:r}=this.state,a=t||0;switch(e.keyCode){case 13:null!==t&&(e.preventDefault(),this.clickSuggestion());break;case 9:null!==t&&(e.preventDefault(),this.clickSuggestion(),this.setState({showSuggestions:!1,selectedSuggestionIndex:null}));break;case 27:this.setState({queryText:"",suggestQueryText:"",showSuggestions:!1,selectedSuggestionIndex:null});break;case 38:this.state.showSuggestions&&!r.isEmpty()&&(e.preventDefault(),null===t?this.selectSuggestion(r.size-1):0===t?this.selectNone():this.selectSuggestion(a-1));break;case 40:this.state.showSuggestions&&!r.isEmpty()&&(e.preventDefault(),null===t?this.selectSuggestion(0):t===r.size-1?this.selectNone():this.selectSuggestion(a+1))}}),w(this,"onFocus",()=>{this.props.onSearchbarFocus&&this.props.onSearchbarFocus(),this.setState({showSuggestions:!0},this.fetchSuggestions)}),w(this,"onBlur",()=>{this.setState({showSuggestions:!1})});const o=this.getStateFromQueryStore(),{queryText:n}=o;this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{},this.getStateFromPaperStore(),{},this.getStateFromAuthorStore(),{suggestQueryText:n,showSuggestions:!1,suggestions:v.List(),selectedSuggestionIndex:null}),this.props.injectQueryStore.registerComponent(this,()=>{const{queryText:e}=this.getStateFromQueryStore();this.setState({queryText:e,suggestQueryText:e,suggestions:v.List()})}),this.context.paperStore.registerComponent(this,()=>{this.setState(this.getStateFromPaperStore())}),this.context.authorStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorStore())})}componentDidMount(){this.fetchSuggestions=Object(l.a)(this.doFetchSuggestions,400,{leading:!0,trailing:!0})}componentWillUnmount(){this.fetchSuggestions&&this.fetchSuggestions.cancel()}getStateFromQueryStore(){return{query:this.props.injectQueryStore.getQuery(),queryText:this.props.injectQueryStore.getQuery().queryString||""}}getStateFromPaperStore(){return{paperDetail:this.context.paperStore.getPaperDetail()}}getStateFromAuthorStore(){return{authorDetail:this.context.authorStore.authorDetail}}getEventTarget(e){switch(e){case E.a.PAPER_CITATION:return u.a.PaperDetail.Citations.SEARCH;case E.a.AUTHOR_PAPER:return u.a.AuthorHomePage.Publications.SEARCH;default:return b.a.warn("Invalid: SuggestionType ".concat(e," is not associated with an event target.")),""}}onSuggestionMouseDown(e){e.preventDefault()}selectSuggestion(e,t){this.setState({selectedSuggestionIndex:e},t)}selectNone(){this&&this.setState({selectedSuggestionIndex:null})}shouldDisplaySuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.showSuggestions&&!e.suggestions.isEmpty()}renderSuggestions(){const{selectedSuggestionIndex:e,suggestions:t}=this.state;return A.createElement("ul",{className:"suggestion-dropdown-menu","data-test-id":"citations-autocomplete-suggestions",onMouseLeave:this.selectNone},t.map((r,a)=>{let{completionType:o,completion:s}=r;const i=C()("flex-row-vcenter suggestion truncate-line",{cursor:a===e,"border-bottom":a!==t.size-1}),c=()=>{this.selectSuggestion(a,()=>{this.clickSuggestion()})},l="publicationTypes"===o?{text:Object(_.b)(s.text),fragments:[]}:s,u=o?Object(m.c)(e=>e.filterBar.shortLabels[o]):"";return A.createElement("li",{key:"".concat(s.text," ").concat(a),"data-test-id":"citations-".concat(o,"-suggestion"),className:i,onMouseEnter:()=>this.selectSuggestion(a),onMouseDown:this.onSuggestionMouseDown,onClick:()=>{c()}},A.createElement(n.c,{className:"suggestion__text truncate-line",field:l}),o&&A.createElement("span",{className:"suggestion-text-type"}," ",u))}))}render(){const{formId:e,containerClass:t,placeholder:r,isSearchbarFocused:n,suggestionType:i}=this.props,{queryText:c}=this.state;return A.createElement("form",{id:e||"dropdown-filters__search-within-form",className:"dropdown-filters__search-within-form",role:"search",onSubmit:this.onSubmitQueryString},A.createElement(o.a,{className:t||"search-within"},A.createElement(a.default,{type:"search",name:"cite_q",id:"search-within-input",className:C()("dropdown-filters__search-within-input",{expanded:n,"author-search":i===E.a.AUTHOR_PAPER}),autoComplete:"off",onChange:this.onChangeQueryText,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,placeholder:r,value:c}),A.createElement("button",{"aria-label":Object(m.c)(e=>e.appHeader.searchSubmitAriaLabel),className:"form-submit form-submit__icon-text"},A.createElement("div",{className:"flex-row-vcenter"},A.createElement(s.a,{width:"14",height:"14",icon:"search-small"})))),this.shouldDisplaySuggestions()?this.renderSuggestions():null)}}w(T,"contextTypes",{api:N.a.instanceOf(i.a).isRequired,authorStore:N.a.instanceOf(c.a).isRequired,history:N.a.instanceOf(f.a).isRequired,paperStore:N.a.instanceOf(g.b).isRequired,router:N.a.object.isRequired,weblabStore:N.a.instanceOf(S.b).isRequired})},572:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return i}));var a=r(191);const o=()=>Object(a.b)({id:"author_remove_paper_filter"}),n=()=>Object(a.b)({id:"author_remove_paper_remove"}),s=()=>Object(a.b)({id:"author_remove_paper_submit"}),i=()=>Object(a.b)({id:"author_remove_paper_undo"})},577:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r(447),o=r(378),n=r(379),s=r(377),i=r.n(s),c=r(9);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends c.PureComponent{constructor(){super(...arguments),l(this,"onToggleClick",()=>{this.setState(e=>{let{isCollapsed:t}=e;return{isCollapsed:!t}}),this.props.onToggle&&this.props.onToggle()}),this.state={isCollapsed:!(!this.props.isCollapsible||this.props.startOpen)}}renderTitle(){const{icon:e,title:t}=this.props;return c.createElement("span",{className:"info-box__title flex-row-vcenter"},e?c.createElement(o.a,{icon:e,className:"flex-static",width:"25",height:"25"}):null,c.createElement("h3",null,t))}renderHeader(){const{isCollapsible:e,title:t,titleLinkProps:r}=this.props,{isCollapsed:o}=this.state,s=o?a.a.Direction.DOWN:a.a.Direction.UP;return t?c.createElement("div",{className:"info-box__header flex-row-vcenter flex-space-between",onClick:this.onToggleClick},r?c.createElement(n.a,r,this.renderTitle()):this.renderTitle(),e?c.createElement("span",{className:"info-box__toggle"},c.createElement(a.a,{className:"flex-static",direction:s,width:"14",height:"14"})):null):null}render(){const{className:e,children:t}=this.props,{isCollapsed:r}=this.state,a=i()("info-box",e);return c.createElement("div",{className:a},this.renderHeader(),r?null:c.createElement("div",{className:"info-box__content"},t))}}l(u,"defaultProps",{isCollapsible:!1,startOpen:!1})},578:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var a=r(400),o=r(378),n=r(51),s=r(384),i=r(112),c=r(73),l=r(37),u=r(518),p=r(17),h=r(519),d=r(47),m=r(377),b=r.n(m),g=r(8),_=r.n(g),f=r(9);function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends f.PureComponent{constructor(e,t){super(e,t),O(this,"onClickEmail",this.onClickShareLink.bind(this,h.a.EMAIL)),O(this,"onClickFacebook",this.onClickShareLink.bind(this,h.a.FACEBOOK)),O(this,"onClickTwitter",this.onClickShareLink.bind(this,h.a.TWITTER)),O(this,"onClickWikipedia",this.onClickShareLink.bind(this,h.a.WIKIPEDIA)),O(this,"onClickDirectLink",this.onClickShareLink.bind(this,h.a.DIRECT_LINK)),this.state={copiedUrl:!1}}trackShareEvent(e){const t=s.a.create(c.a.SHARE,{socialType:e.id});Object(d.a)(t)}copyToClipboard(e){n.a.copyToClipboard(e),this.setState({copiedUrl:!0})}onClickShareLink(e){const{title:t,message:r,corpusId:a}=this.props;this.trackShareEvent(e);const o=window.location.href,n=encodeURIComponent("".concat(o,"?utm_source=").concat(e.id)),s=t?encodeURIComponent(t):"",i=r?"".concat(encodeURIComponent(r),": ").concat(n):o;let c="";switch(e){case h.a.EMAIL:c="mailto:?subject=".concat(s,"&body=").concat(i);break;case h.a.FACEBOOK:c=Object(u.b)(n);break;case h.a.WIKIPEDIA:a&&(c=Object(u.a)(a));break;case h.a.DIRECT_LINK:c=o;break;case h.a.TWITTER:c=Object(u.c)(n,s)}e===h.a.EMAIL?window.location.href=c:e===h.a.WIKIPEDIA||e===h.a.DIRECT_LINK?this.copyToClipboard(c):window.open(c,"_blank","left=100,top=100,width=800,height=500,toolbar=1,resizable=0,rel=noreferrer")}render(){const{envInfo:{isMobile:e}}=this.context,{copiedUrl:t}=this.state,r=b()(this.props.className,{"social-share-options__button-container-mobile":e,"social-share-options__button-container":!e}),{label:n}=this.props,s=t?Object(l.c)(e=>e.socialShareOptions.shareButtonLabel.directShareHoverTextCopied):Object(l.c)(e=>e.socialShareOptions.shareButtonLabel.directShareHoverText);return f.createElement("div",{className:r},f.createElement("div",{className:"social-share-options__share-buttons"},n&&n,f.createElement(o.a,{icon:"share-twitter","data-test-id":"social-share-options__share-social-icon__twitter",className:"social-share-options__share-social-icon",onClick:this.onClickTwitter}),f.createElement(o.a,{icon:"share-facebook",className:"social-share-options__share-social-icon","data-test-id":"social-share-options__share-social-icon__facebook",onClick:this.onClickFacebook}),f.createElement(a.default,{placement:a.PLACEMENT.BOTTOM,tooltipContent:s},f.createElement(o.a,{icon:"fa-link-box",className:"social-share-options__share-social-icon","data-test-id":"social-share-options__share-social-icon__link",onClick:this.props.corpusId?this.onClickWikipedia:this.onClickDirectLink})),f.createElement(o.a,{icon:"share-email",className:"social-share-options__share-social-icon","data-test-id":"social-share-options__share-social-icon__email",onClick:this.onClickEmail})))}}O(E,"contextTypes",{dispatcher:_.a.instanceOf(p.a).isRequired,envInfo:_.a.instanceOf(i.a).isRequired})},655:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a,o,n,s=r(383),i=r(37),c=r(43),l=r(138),u=r(7),p=r(32),h=r(0),d=r(9),m=r(4),b=r.n(m),g=r(8),_=r.n(g);class f extends d.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),this.state={isLoading:!0,authorPapers:h.List()}}componentDidMount(){this.fetchAuthorPapers().catch(e=>this.onApiError(e))}onApiError(e){u.a.error("Api Error",e),this.setState({isLoading:!1})}async fetchAuthorPapers(){var e,t;await Object(c.e)(this,{isLoading:!0});const{authorId:r}=this.props,{api:a}=this.context,o=await a.fetchPapersWithCorrectionsAppliedForAuthor({authorId:r,model:"PaperLite"});await Object(c.e)(this,{isLoading:!1});const n=null!=(t=o)&&null!=(t=t.resultData)?t.authorId:t;b()(r===n,"browser and server author IDs do not match");const s=h.List((null!=(e=o)&&null!=(e=e.resultData)?e.paperLites:e)||[]).map(p.a.fromJS);await Object(c.e)(this,{authorPapers:s})}render(){const{isLoading:e,authorPapers:t}=this.state;return e?d.createElement(s.a,null):d.createElement("div",null,d.createElement("h2",null,Object(i.a)(e=>e.correctionsCurrentPapers.headerText,t.size)),d.createElement("ul",null,t.map(e=>d.createElement("li",{key:e.id,className:"corrections-curent-papers__paper"},e.title))))}}a=f,o="contextTypes",n={api:_.a.instanceOf(l.a).isRequired},o in a?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n},656:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r(386),o=r(143),n=r(142),s=r(79),i=r(37),c=r(9),l=r(8),u=r.n(l);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends c.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),h(this,"handleReset",()=>{const{authorCorrectionsStore:e}=this.context;e.clearPendingCorrections(s.a.RemoveAuthorship)}),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.getStateFromAuthorCorrectionsStore(),{},this.getStateFromAuthorStore()),this.context.authorCorrectionsStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorCorrectionsStore())}),this.context.authorStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorStore())})}getStateFromAuthorCorrectionsStore(){const{authorCorrectionsStore:e}=this.context;return{stagedPapersCount:e.getPendingCorrections().filter(e=>e.correctionType===s.a.RemoveAuthorship).size,isModeratorCorrecting:e.isModeratorCorrecting()}}getStateFromAuthorStore(){var e;const{authorStore:t}=this.context;return{authorName:null!=(e=t)&&null!=(e=e.authorDetail)&&null!=(e=e.author)?e.name:e}}render(){const{stagedPapersCount:e,isModeratorCorrecting:t,authorName:r}=this.state;return e?c.createElement("div",{className:"author-remove-papers-papers-count"},t?c.createElement(a.a,{plural:e=>e.moderatorCorrections.removePapers.status,number:e,args:[r]}):c.createElement(a.a,{plural:e=>e.authorRemovePapers.stagedRemoveCorrections,number:e}),c.createElement("span",{className:"middot"},"•"),c.createElement("button",{className:"author-remove-papers-papers-count__link-button",onClick:this.handleReset},Object(i.c)(e=>e.authorRemovePapers.resetStagedLabel))):null}}h(d,"contextTypes",{authorCorrectionsStore:u.a.instanceOf(o.a).isRequired,authorStore:u.a.instanceOf(n.a).isRequired})},661:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a,o,n,s=r(8),i=r.n(s),c=r(9),l=r.n(c);class u extends c.PureComponent{render(){return l.a.createElement("div",{className:"container flex-row"},this.props.children)}}a=u,o="propTypes",n={children:i.a.array.isRequired},o in a?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n},662:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a,o,n,s=r(377),i=r.n(s),c=r(8),l=r.n(c),u=r(9),p=r.n(u);class h extends u.PureComponent{render(){const e=i()("main-column",this.props.className);return p.a.createElement("main",{className:e},this.props.children)}}a=h,o="propTypes",n={children:l.a.node,className:l.a.string},o in a?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n},663:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a,o,n,s=r(377),i=r.n(s),c=r(8),l=r.n(c),u=r(9),p=r.n(u);class h extends u.PureComponent{render(){const{side:e,className:t,children:r}=this.props;return p.a.createElement("section",{className:"sidebar sidebar-".concat(e)},p.a.createElement("div",{className:i()("column-wrapper",t)},r))}}a=h,o="propTypes",n={className:l.a.string,side:l.a.string.isRequired,children:l.a.node},o in a?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n},723:function(e,t,r){"use strict";var a=r(380),o=r(385),n=r(514),s=r(397),i=r(386),c=r(378),l=r(203),u=r(491),p=r(37),h=r(9);var d=e=>{let{onCancel:t,onSubmit:r}=e;const[d,m]=h.useState(!1),[b,g]=h.useState("");function _(){return!!b&&l.a.test(b)}function f(){_&&(r(b),g(""))}return h.createElement("div",{className:"author-add-papers__paper"},h.createElement("div",{className:"author-add-papers__paper__remove-button",onClick:function(){g(""),t()}},h.createElement(c.a,{icon:"circle-plus"})),h.createElement("div",{className:"author-add-papers__paper__content"},h.createElement("div",{className:"author-add-papers__paper__section author-add-papers__paper__details"},h.createElement(n.default,{className:"author-add-papers__paper__title"},Object(p.c)(e=>e.authorAddPapers.indexRequests.add.urlField.label)),h.createElement("div",{className:"author-add-papers__index-request-form"},h.createElement("div",{className:"author-add-papers__index-request-form__inputs"},h.createElement(s.default,{placeholder:Object(p.c)(e=>e.authorAddPapers.indexRequests.add.urlField.placeholder),value:b,onChange:e=>g(e.target.value),onKeyDown:function(e){switch(e.keyCode){case u.a:e.preventDefault(),f()}}}),h.createElement(a.default,{className:"author-add-papers__index-request-form__add_btn",type:a.TYPE.PRIMARY,label:Object(p.c)(e=>e.authorAddPapers.indexRequests.add.submitButton),onClick:f,disabled:!_()})),d?h.createElement(h.Fragment,null,h.createElement("ol",{className:"author-add-papers__index-request-form__tips_list"},Object(p.d)(e=>e.authorAddPapers.indexRequests.add.tips).map(e=>h.createElement("li",null,h.createElement(i.a,{tag:"span",content__DEPRECATED:e})))),h.createElement(o.default,{icon:h.createElement(c.a,{icon:"square-minus",height:"10",width:"10"}),label:Object(p.c)(e=>e.authorAddPapers.indexRequests.add.hideTips),className:"author-add-papers__index-request-form__tips_btn",type:a.TYPE.TERTIARY,onClick:()=>m(!1)})):h.createElement(o.default,{icon:h.createElement(c.a,{icon:"square-plus",height:"10",width:"10"}),label:Object(p.c)(e=>e.authorAddPapers.indexRequests.add.expandTips),className:"author-add-papers__index-request-form__tips_btn",type:a.TYPE.TERTIARY,onClick:()=>m(!0)})))))},m=r(446),b=r(7);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}class _ extends h.PureComponent{constructor(){var e,t,r;super(...arguments),r=e=>{const{onChangePosition:t,position:r}=this.props;if(t)try{const a=JSON.parse(e.currentTarget.getAttribute("data-position")||"");a!==r&&t(a)}catch(e){b.a.error("failed to parse position",e)}},(t="onClickPosition")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){const{paper:e,position:t,reason:r,viewerFullName:a}=this.props;return h.createElement("div",{className:"author-add-papers__position__between"},e.authors.map(e=>e.alias.name).map((o,n)=>h.createElement(h.Fragment,{key:"".concat(e.id,"|").concat(o,"|").concat(n)},t===n?h.createElement(O,{viewerFullName:a,reason:r,position:n,onClick:this.onClickPosition}):h.createElement(f,{reason:r,position:n,onClick:this.onClickPosition}),h.createElement("div",{className:"author-add-papers__position__between__name"},o))),t===e.authors.size?h.createElement(O,{viewerFullName:a,reason:r,position:e.authors.size,onClick:this.onClickPosition}):h.createElement(f,{reason:r,position:e.authors.size,onClick:this.onClickPosition}))}}const f=e=>{let{reason:t,position:r,onClick:a}=e;return h.createElement("div",g({className:"author-add-papers__position__between__placement","data-position":r},Object(m.a)({reason:t,position:r}),{onClick:a}))},O=e=>{let{viewerFullName:t,reason:r,position:a,onClick:o}=e;return h.createElement("div",g({className:"author-add-papers__position__between__selected","data-position":"null"},Object(m.b)({reason:r,position:a}),{onClick:o}),h.createElement("div",{className:"author-add-papers__position__between__selected__author-name"},t),h.createElement("div",{className:"author-add-papers__position__you-tag"},Object(p.c)(e=>e.authorAddPapers.youTagLabel)))};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}const y=Object.freeze({NOT_LISTED:"notListed",WRONG_AUTHOR:"wrongAuthor",WRONG_NAME:"wrongName"}),S=Object.freeze(Object.keys(y).map(e=>e)),P=Object.freeze(S.map(e=>y[e]));class C extends h.PureComponent{constructor(){var e,t,r;super(...arguments),r=()=>{const{reason:e,onSelect:t}=this.props;t(e)},(t="onClickReason")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){const{label:e,reason:t}=this.props;return h.createElement("div",E({},Object(m.c)({reason:t}),{className:"author-add-papers__position-reason"}),h.createElement("div",{className:"author-add-papers__position-reason__label",onClick:this.onClickReason},e))}}var v=r(377),j=r.n(v);function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R extends h.PureComponent{constructor(){super(...arguments),A(this,"onClickPosition",e=>{const{onChangePosition:t,position:r}=this.props;if(t)try{const a=JSON.parse(e.currentTarget.getAttribute("data-position")||"");a!==r&&t(a)}catch(e){b.a.error("failed to parse position",e)}})}render(){const{paper:e,position:t,reason:r,viewerFullName:a,showReplacedName:o}=this.props;return h.createElement("div",{className:"author-add-papers__position__replace"},e.authors.map(e=>e.alias.name).map((n,s)=>{const i=s===t,c=o||!i;return h.createElement("div",N({className:j()({"author-add-papers__position__replace__name":!0,"author-add-papers__position__replace__is-selected":i}),key:"".concat(e.id,"|").concat(n,"|").concat(s),"data-position":i?"null":s},i?Object(m.b)({reason:r,position:s}):Object(m.a)({reason:r,position:s}),{onClick:this.onClickPosition}),c&&h.createElement("div",{className:"author-add-papers__position__replace__name__author-name"},n),h.createElement("div",{className:"author-add-papers__position__replace__name__viewer-name"},a),h.createElement("div",{className:"author-add-papers__position__you-tag"},Object(p.c)(e=>e.authorAddPapers.youTagLabel)))}))}}A(R,"defaultProps",{showReplacedName:!1});var w=r(142),T=r(143),I=r(119),x=r(4),k=r.n(x),D=r(8),L=r.n(D);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class M extends h.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),U(this,"onClickBack",()=>{const{onChangeReason:e}=this.props;e&&e(null)}),U(this,"onSelectReason",e=>{const{onChangeReason:t}=this.props;t&&t(e)}),U(this,"onSelectPosition",e=>{const{reason:t,onChangePosition:r}=this.props;r&&(k()(t,"reason was not selected before a position was"),r(t,e))}),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.getStateFromAuthorProfileStore(),{},this.getStateFromAuthorCorrectionsStore(),{},this.getStateFromAuthorStore()),this.context.authorProfileStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorProfileStore())}),this.context.authorCorrectionsStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorCorrectionsStore())}),this.context.authorStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorStore())})}getStateFromAuthorProfileStore(){const{authorProfileStore:e}=this.context,t=e.getAuthorProfile();return{viewerFullName:t?t.fullName:null}}getStateFromAuthorCorrectionsStore(){const{authorCorrectionsStore:e}=this.context;return{moderatorCorrectionsAuthorId:e.getModeratorCorrectionsAuthorId(),isModeratorCorrecting:e.isModeratorCorrecting()}}getStateFromAuthorStore(){var e;const{authorStore:t}=this.context;return{authorName:null!=(e=t)&&null!=(e=e.authorDetail)&&null!=(e=e.author)?e.name:e}}render(){const{paper:e,reason:t,position:r}=this.props,{viewerFullName:a,authorName:o,isModeratorCorrecting:n}=this.state,s=n?o:a;return h.createElement("div",{className:"author-add-papers__position"},h.createElement("div",{className:"author-add-papers__position__instructions"},t?h.createElement(h.Fragment,null,h.createElement("span",{className:"author-add-papers__position__instructions__label"},Object(p.c)(e=>e.authorAddPapers.reason.choices[t].instructions)),h.createElement("span",{className:"author-add-papers__position__instructions__back"},"(",h.createElement("a",F({onClick:this.onClickBack},Object(m.d)({reason:t})),Object(p.c)(e=>e.authorAddPapers.reason.backLabel)),")")):h.createElement("span",{className:"author-add-papers__position__instructions__label"},Object(p.c)(e=>e.authorAddPapers.reason.instructions))),h.createElement("div",{className:"author-add-papers__position__controls"},(()=>{switch(t){case y.NOT_LISTED:return h.createElement(_,{paper:e,position:r,reason:y.NOT_LISTED,viewerFullName:s,onChangePosition:this.onSelectPosition});case y.WRONG_AUTHOR:return h.createElement(R,{paper:e,position:r,reason:y.WRONG_AUTHOR,viewerFullName:s,onChangePosition:this.onSelectPosition,showReplacedName:!0});case y.WRONG_NAME:return h.createElement(R,{paper:e,position:r,reason:y.WRONG_NAME,viewerFullName:s,onChangePosition:this.onSelectPosition});default:return P.map(e=>h.createElement(C,{key:e,onSelect:this.onSelectReason,reason:e,label:Object(p.c)(t=>t.authorAddPapers.reason.choices[e].reasonLabel)}))}})()))}}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}U(M,"contextTypes",{authorProfileStore:L.a.instanceOf(I.a).isRequired,authorCorrectionsStore:L.a.instanceOf(T.a).isRequired,authorStore:L.a.instanceOf(w.a).isRequired});class B extends h.PureComponent{constructor(){super(...arguments),H(this,"onClickRemove",()=>{const{paper:e,onRemovePaper:t}=this.props;t&&t(e)}),H(this,"onChangeReason",e=>{const{paper:t,onChangeReason:r}=this.props;r&&r(t,e)}),H(this,"onChangePosition",(e,t)=>{const{paper:r,onChangePosition:a}=this.props;a&&a(r,e,t)})}render(){const{paper:e,position:t,reason:r}=this.props,a=!r||"number"!=typeof t;return h.createElement("div",{"data-paper-id":e.id,className:j()({"author-add-papers__paper":!0,"author-add-papers__paper__is-draft":a})},h.createElement("div",{className:"author-add-papers__paper__remove-button",onClick:this.onClickRemove},h.createElement(c.a,{icon:"circle-plus"})),h.createElement("div",{className:"author-add-papers__paper__content"},h.createElement("div",{className:"author-add-papers__paper__section author-add-papers__paper__details"},h.createElement("div",{className:"author-add-papers__paper__title"},e.title.text),!r&&h.createElement("div",{className:"author-add-papers__paper__authors"},e.authors.map(e=>e.alias.name).join(", "))),h.createElement("div",{className:"author-add-papers__paper__section author-add-papers__paper__position"},h.createElement(M,{paper:e,position:t,reason:r,onChangeReason:this.onChangeReason,onChangePosition:this.onChangePosition}))))}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class G extends h.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),Q(this,"onFocusSearch",()=>{const{onFocus:e}=this.props;e&&e()}),Q(this,"onInputSearch",e=>{const{onChange:t}=this.props;if(t){const{value:r}=e.currentTarget;this.setState({searchText:r}),t(r)}}),this.state={searchText:""}}render(){const{isLoading:e}=this.props,{searchText:t}=this.state;return h.createElement("div",{className:j()({"author-add-papers__search":!0,"author-add-papers__search__is-loading":e})},h.createElement("input",V({className:"legacy__input author-add-papers__search__input",type:"text",value:t,placeholder:Object(p.c)(e=>e.authorAddPapers.searchLabel)},Object(m.f)(),{onFocus:this.onFocusSearch,onChange:this.onInputSearch})),h.createElement(c.a,{icon:e?"gear":"search-small"}))}}var W,Y,z,K=r(425),J=r(388),X=r(0);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}class $ extends h.PureComponent{render(){const{onAddPaper:e,onIndexRequest:t,papers:r}=this.props;return h.createElement("div",{className:"author-add-papers__results"},r.isEmpty()?h.createElement("div",{className:"author-add-papers__results__empty"},h.createElement("div",{className:"author-add-papers__results__emptyMsg"},Object(p.c)(e=>e.authorAddPapers.noResultsLabel)),h.createElement(K.default,{label:Object(p.c)(e=>e.authorAddPapers.indexRequests.add.expandLink),onClick:t})):h.createElement(h.Fragment,null,h.createElement("div",{className:"author-add-papers__results__list"},h.createElement("ul",{className:"author-add-papers__results__paper-list"},r.map(t=>h.createElement(ee,{key:t.id,onAddPaper:e,paper:t})))),h.createElement("div",{className:"author-add-papers__results__index-paper",onClick:t},h.createElement(K.default,{label:Object(p.c)(e=>e.authorAddPapers.indexRequests.add.expandLink),onClick:t}))))}}function ee(e){let{onAddPaper:t,paper:r}=e;const a=function(e){let{venue:t,year:r}=e;if(t&&r)return Object(p.c)(e=>e.authorRemovePapers.publisher.bothYearAndVenue,r.text,t.text);if(r)return Object(p.c)(e=>e.authorRemovePapers.publisher.onlyYear,r.text);if(t)return Object(p.c)(e=>e.authorRemovePapers.publisher.onlyVenue,t.text);return null}({year:r.year,venue:r.venue});return h.createElement("li",Z({className:"author-add-papers__results__paper"},Object(m.e)(),{onClick:()=>t(r)}),h.createElement("div",{className:"author-add-papers__results__paper__title"},h.createElement(J.c,{field:r.title})),h.createElement("div",{className:"author-add-papers__results__paper__author-list"},r.authors.map(e=>h.createElement(J.c,{key:"".concat(r.id,"|").concat(e.alias.ids.join(","),"|").concat(e.alias.slug),className:"author-add-papers__results__paper__author",field:e.highlightedField}))),a&&h.createElement("div",{className:"author-add-papers__results__paper__publisher"},a))}W=$,Y="contextTypes",z={authorCorrectionsStore:L.a.instanceOf(T.a).isRequired},Y in W?Object.defineProperty(W,Y,{value:z,enumerable:!0,configurable:!0,writable:!0}):W[Y]=z;class te extends h.PureComponent{render(){return h.createElement("div",{className:"author-add-papers__blank-state"},h.createElement("div",{className:"author-add-papers__blank-state__content"},h.createElement(c.a,{className:"author-add-papers__blank-state__icon",icon:"paper-magnifying-glass",width:"60",height:"77.5"}),h.createElement("div",{className:"author-add-papers__blank-state__description"},Object(p.c)(e=>e.authorAddPapers.blankLabel))))}}var re=e=>{let{url:t,onRemove:r}=e;return h.createElement("div",{className:j()("author-add-papers__paper")},h.createElement("div",{className:"author-add-papers__paper__remove-button",onClick:()=>r(t)},h.createElement(c.a,{icon:"circle-plus"})),h.createElement("div",{className:"author-add-papers__paper__content"},h.createElement("div",{className:"author-add-papers__paper__section author-add-papers__paper__details"},h.createElement("div",{className:"author-add-papers__paper__title"},Object(p.c)(e=>e.authorAddPapers.indexRequests.listItem.label)),h.createElement("div",{className:"author-add-papers__index-request-url__url"},t))))},ae=r(405),oe=r(43),ne=r(138),se=r(23),ie=r(18),ce=r(44),le=r.n(ce);function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return pe}));class pe extends h.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),ue(this,"onKeyDown",e=>{switch(e.keyCode){case u.b:this.setState({canResultsBeVisible:!1})}}),ue(this,"onChangeSearch",e=>{this.setState({searchText:e},()=>{e?this.searchPapers().catch(e=>this.onApiError(e)):this.setState({searchPapers:X.List()})})}),ue(this,"onFocusSearch",()=>{this.setState({canResultsBeVisible:!0})}),ue(this,"onAddPaper",e=>{const{authorCorrectionsStore:t}=this.context,{addedPapers:r}=this.state;this.setState({canResultsBeVisible:!1,addedPapers:r.set(e.id,{paper:e,position:null,reason:null})}),t.addDraftPaperId(e.id)}),ue(this,"onRemovePaper",e=>{const{addedPapers:t}=this.state;this.setState({addedPapers:t.delete(e.id)});const{authorCorrectionsStore:r}=this.context;r.cancelPendingCorrectionByPaperId(e.id)}),ue(this,"onShowIndexRequest",()=>{this.setState({isIndexRequestVisible:!0,canResultsBeVisible:!1})}),ue(this,"onCloseIndexRequest",()=>{this.setState({isIndexRequestVisible:!1})}),ue(this,"onAddIndexUrl",e=>{const{addedPapers:t}=this.state,r=t.set(e,e);this.setState({addedPapers:r});const{authorCorrectionsStore:a}=this.context;a.addPendingIndexRequestUrl(e)}),ue(this,"onRemoveIndexUrl",e=>{const{addedPapers:t}=this.state;this.setState({addedPapers:t.delete(e)});const{authorCorrectionsStore:r}=this.context;r.removePendingIndexRequestUrl(e)}),ue(this,"onChangeReason",(e,t)=>{const{addedPapers:r}=this.state;this.setState({addedPapers:r.set(e.id,{paper:e,position:null,reason:t})});const{authorCorrectionsStore:a}=this.context;a.cancelPendingCorrectionByPaperId(e.id),a.addDraftPaperId(e.id)}),ue(this,"onChangePosition",(e,t,r)=>{const{addedPapers:a}=this.state;this.setState({addedPapers:a.set(e.id,{paper:e,position:r,reason:t})});const{authorCorrectionsStore:o}=this.context;if("number"==typeof r)switch(t){case y.NOT_LISTED:o.enqueueAddPaperCorrection({paperId:e.id,position:r});break;case y.WRONG_AUTHOR:case y.WRONG_NAME:{const t=e.authors.get(r).alias.canonicalId(),a=t?parseInt(t,10):null;o.enqueueSwapPaperCorrection({fromAuthorId:a,paperId:e.id,position:r});break}}else o.cancelPendingCorrectionByPaperId(e.id),o.addDraftPaperId(e.id)}),ue(this,"onClickCapture",e=>{e.preventDefault(),e.stopPropagation(),this.setState({canResultsBeVisible:!1})}),this.state={isLoading:!1,errorMessage:null,canResultsBeVisible:!1,isIndexRequestVisible:!1,hasFetchedPapers:!1,addedPapers:X.OrderedMap(),searchPapers:X.List(),searchText:""},this.onChangeSearchThrottled=Object(ae.a)(this.onChangeSearch,1e3,{leading:!0,trailing:!0})}onApiError(e){b.a.error("Api Error",e),this.setState({errorMessage:Object(p.c)(e=>e.authorRemovePapers.error.apiQueryFailed),isLoading:!1})}async searchPapers(){var e;await Object(oe.e)(this,{isLoading:!0,canResultsBeVisible:!0});const{authorId:t}=this.props,{api:r}=this.context,{searchText:a}=this.state;let o=a;const{protocol:n,pathname:s}=le.a.parse(a);if(n){const e=(ie.a.PAPER_DETAIL.exec(s||"")||[])[2];e&&(o=e)}const i=await r.searchPapers({query:o,page:1,limit:10,excludeAuthorId:t,model:"Paper",prependSuggestions:!0});if(this.state.searchText!==a)return void b.a.info("Search results dropped, text is no longer ".concat(a));await Object(oe.e)(this,{isLoading:!1,hasFetchedPapers:!0});const c=X.List((null!=(e=i)&&null!=(e=e.resultData)?e.papers:e)||[]).map(se.b.fromJS);await Object(oe.e)(this,{searchPapers:c})}render(){const{showDraftAsError:e}=this.props,{isLoading:t,hasFetchedPapers:r,addedPapers:a,searchPapers:o,searchText:n,isIndexRequestVisible:s,canResultsBeVisible:i}=this.state,c=i&&r&&n;return h.createElement("div",{onKeyDown:this.onKeyDown,className:j()({"author-add-papers":!0,"author-add-papers__is-empty":!1,"author-add-papers__is-loading":t,"author-add-papers__show-draft-as-error":e})},c&&h.createElement("div",{className:"author-add-papers__click-capture",onClick:this.onClickCapture}),h.createElement("div",{className:"author-add-papers__controls"},h.createElement(G,{isLoading:t,onChange:this.onChangeSearchThrottled,onFocus:this.onFocusSearch}),c&&h.createElement($,{onAddPaper:this.onAddPaper,onIndexRequest:this.onShowIndexRequest,papers:o})),h.createElement("div",{className:"author-add-papers__paper-list"},s&&h.createElement(d,{onCancel:this.onCloseIndexRequest,onSubmit:this.onAddIndexUrl}),a.valueSeq().reverse().map(e=>"string"==typeof e?h.createElement(re,{key:e,url:e,onRemove:this.onRemoveIndexUrl}):h.createElement(B,{key:e.paper.id,paper:e.paper,position:e.position,reason:e.reason,onRemovePaper:this.onRemovePaper,onChangeReason:this.onChangeReason,onChangePosition:this.onChangePosition}))),a.isEmpty()&&h.createElement(te,null))}}ue(pe,"contextTypes",{api:L.a.instanceOf(ne.a).isRequired,authorCorrectionsStore:L.a.instanceOf(T.a).isRequired})},729:function(e,t,r){"use strict";var a=r(383),o=r(378),n=r(37),s=r(572),i=r(5),c=r(9);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}class u extends c.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"onInputFilter",e=>{const{value:t}=e.currentTarget;this.setState({filterText:t}),this.props.onChange(t)}),this.state={filterText:""}}render(){const{filterText:e}=this.state;return c.createElement("div",{className:"author-remove-papers__filter"},c.createElement("input",l({id:"remove-filter-input",className:"legacy__input author-remove-papers__filter__input",type:"text",value:e,placeholder:Object(n.c)(e=>e.authorRemovePapers.filterLabel)},Object(s.a)(),{onChange:this.onInputFilter})),c.createElement(o.a,{icon:"filter"}))}}function p(){if(!Object(i.a)())return;const e=window.document.getElementById("remove-filter-input");e&&(e.value="",e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),e.focus())}class h extends c.PureComponent{getClearFilterButton(){return c.createElement("div",{className:"author-remove-papers__blank-state__clear-filter"},c.createElement("button",{className:"author-remove-papers__blank-state__clear-filter-button button button--secondary",onClick:p},Object(n.c)(e=>e.authorRemovePapers.clearFilter)))}render(){const{hasAuthorPapers:e,filterText:t}=this.props,r=e?Object(n.c)(e=>e.authorRemovePapers.blankFilterLabel,t):Object(n.c)(e=>e.authorRemovePapers.blankPaperLabel);return c.createElement("div",{className:"author-remove-papers__blank-state"},c.createElement("div",{className:"author-remove-papers__blank-state__content"},c.createElement(o.a,{className:"author-remove-papers__blank-state__icon",icon:"paper-question-mark",width:"60",height:"77.5"}),c.createElement("div",{className:"author-remove-papers__blank-state__description"},r),e&&this.getClearFilterButton()))}}var d=r(143),m=r(79),b=r(377),g=r.n(b),_=r(8),f=r.n(_);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S extends c.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),y(this,"onClickRemove",e=>{e.preventDefault();const{authorCorrectionsStore:t}=this.context,{paperLite:r,viewerAuthorId:a}=this.props;t.enqueueRemovePaperCorrection({paperId:r.id,position:P(a,r)})}),y(this,"onClickUndo",e=>{e.preventDefault();const{authorCorrectionsStore:t}=this.context,{paperLite:r}=this.props;t.cancelPendingCorrectionByPaperId(r.id)}),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.getStateFromAuthorCorrectionsStore()),this.context.authorCorrectionsStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorCorrectionsStore())})}getStateFromAuthorCorrectionsStore(){const{authorCorrectionsStore:e}=this.context,{paperLite:t}=this.props;return{hasPendingRemove:e.getPendingCorrectionTypeForPaperId(t.id)===m.a.RemoveAuthorship}}render(){const{paperLite:e,viewerAuthorId:t}=this.props,{hasPendingRemove:r}=this.state,a=function(e){let{venue:t,year:r}=e;if(t&&r)return Object(n.c)(e=>e.authorRemovePapers.publisher.bothYearAndVenue,r,t);if(r)return Object(n.c)(e=>e.authorRemovePapers.publisher.onlyYear,r);if(t)return Object(n.c)(e=>e.authorRemovePapers.publisher.onlyVenue,t);return null}({year:e.year,venue:e.venue}),i=function(e,t){return"number"==typeof P(e,t)}(t,e);return c.createElement("div",{className:g()({"author-remove-papers__paper":!0,"author-remove-papers__paper__has-pending-remove":r,"author-remove-papers__paper__locked":!i})},!i&&c.createElement("div",{className:"author-remove-papers__paper__status-message"},Object(n.c)(e=>e.authorRemovePapers.error.correctionPending)),c.createElement("div",{className:"author-remove-papers__paper__controls-left"},c.createElement("div",O({role:"button",className:"author-remove-papers__paper__remove-button"},Object(s.b)(),{onClick:i?this.onClickRemove:null}),c.createElement(o.a,{icon:"circle-plus"}))),c.createElement("div",{className:"author-remove-papers__paper__details"},c.createElement("div",{className:"author-remove-papers__paper__title"},e.title),c.createElement("div",{className:"author-remove-papers__paper__authors"},e.authors.map(e=>e.alias.name).join(", ")),a&&c.createElement("div",{className:"author-remove-papers__paper__publisher"},a)),c.createElement("div",{className:"author-remove-papers__paper__controls-right"},c.createElement("div",O({role:"button",className:"author-remove-papers__paper__undo-button"},Object(s.d)(),{onClick:this.onClickUndo}),Object(n.c)(e=>e.authorRemovePapers.undoLabel))))}}function P(e,t){const r=e.toString(),a=t.authors.findIndex(e=>e.alias.ids.includes(r));return a>=0?a:null}function C(e){let{numPapers:t,onRemoveAll:r}=e;return c.createElement("div",{className:"author-remove-papers__results-header"},c.createElement("div",{className:"author-remove-papers__results-header__left"},Object(n.a)(e=>e.authorRemovePapers.numResults,t)),c.createElement("div",{className:"author-remove-papers__results-header__right"},c.createElement("button",{className:"author-remove-papers__results-header__link-button",onClick:r,disabled:0===t,type:"button"},Object(n.c)(e=>e.authorRemovePapers.removeAllLabel))))}y(S,"contextTypes",{authorCorrectionsStore:f.a.instanceOf(d.a).isRequired});var v=r(405),j=r(43),N=r(7),A=r(138),R=r(32),w=r(0),T=r(4),I=r.n(T);function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return k}));class k extends c.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),x(this,"onRemoveAll",()=>{const{authorId:e}=this.props,{authorPapers:t,filteredPaperIds:r}=this.state,{authorCorrectionsStore:a}=this.context;(r?t.filter(e=>r.has(e.id)):t).forEach(t=>{const r=t.authors.findIndex(t=>t.alias.ids.includes(e.toString()));I()(r>=0,"viewing author is not in paper's list of authors"),a.enqueueRemovePaperCorrection({paperId:t.id,position:r})})}),this.state={isLoading:!1,isInitialLoad:!0,errorMessage:null,authorPapers:w.List(),filteredPaperIds:null,filterText:""},this.onChangeFilterThrottled=Object(v.a)(this.onChangeFilter.bind(this),1e3,{leading:!0,trailing:!0})}componentDidMount(){this.fetchAuthorPapers().catch(e=>this.onApiError(e))}onApiError(e){N.a.error("Api Error",e),this.setState({errorMessage:Object(n.c)(e=>e.authorRemovePapers.error.apiQueryFailed),isLoading:!1,isInitialLoad:!1})}onChangeFilter(e){this.setState({filterText:e},()=>{this.filterAuthorPapers().catch(e=>this.onApiError(e))})}async fetchAuthorPapers(){var e,t;await Object(j.e)(this,{isLoading:!0});const{authorId:r}=this.props,{api:a}=this.context,o=await a.fetchPapersWithCorrectionsAppliedForAuthor({authorId:r,model:"PaperLite"});await Object(j.e)(this,{isLoading:!1,isInitialLoad:!1});const n=null!=(t=o)&&null!=(t=t.resultData)?t.authorId:t;I()(r===n,"browser and server author IDs do not match");const s=w.List((null!=(e=o)&&null!=(e=e.resultData)?e.paperLites:e)||[]).map(R.a.fromJS);await Object(j.e)(this,{authorPapers:s})}async filterAuthorPapers(){var e,t;const{filterText:r}=this.state;if(!r)return Object(j.e)(this,{filteredPaperIds:null});const{authorId:a}=this.props,{api:o}=this.context;await Object(j.e)(this,{isLoading:!0,isInitialLoad:!0});const n=await o.fetchPapersWithCorrectionsAppliedForAuthor({authorId:a,model:"PaperId",filterText:r});await Object(j.e)(this,{isLoading:!1,isInitialLoad:!1});const s=null!=(t=n)&&null!=(t=t.resultData)?t.authorId:t;if(I()(a===s,"browser and server author IDs do not match"),r!==this.state.filterText)return void N.a.info("Dropping old filter data",{queryFilterText:r,currentFilterText:this.state.filterText});const i=w.Set(((null!=(e=n)&&null!=(e=e.resultData)?e.paperIds:e)||[]).map(e=>e.id));await Object(j.e)(this,{filteredPaperIds:i})}render(){const{authorId:e}=this.props,{isLoading:t,isInitialLoad:r,authorPapers:o,filteredPaperIds:n,filterText:s}=this.state,i=n?o.filter(e=>n.has(e.id)):o;return c.createElement("div",{className:g()({"author-remove-papers":!0,"author-remove-papers__is-empty":o.isEmpty(),"author-remove-papers__is-loading":t})},c.createElement("div",{className:"author-remove-papers__controls"},c.createElement(C,{numPapers:i.size,onRemoveAll:this.onRemoveAll}),c.createElement(u,{onChange:this.onChangeFilterThrottled})),i.isEmpty()&&!r&&c.createElement(h,{hasAuthorPapers:!o.isEmpty(),filterText:s}),c.createElement("div",{className:g()({"author-remove-papers__papers":!0,"author-remove-papers__papers-loading":t})},t&&c.createElement(a.a,null),!t&&i.map(t=>c.createElement(S,{key:t.id,paperLite:t,viewerAuthorId:e}))))}}x(k,"contextTypes",{api:f.a.instanceOf(A.a).isRequired,authorCorrectionsStore:f.a.instanceOf(d.a).isRequired})},733:function(e,t,r){"use strict";var a=r(378),o=r(379),n=r(37),s=r(65),i=r(78),c=r(119),l=r(156),u=r(79),p=(r(0),r(9)),h=r(377),d=r.n(h),m=r(8),b=r.n(m);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends p.PureComponent{constructor(){super(...arguments),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.getStateFromAuthStore(),{},this.getStateFromCorrectionsStore()),this.context.authStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthStore())}),this.context.correctionsStore.registerComponent(this,()=>{this.setState(this.getStateFromCorrectionsStore())})}getStateFromAuthStore(){const{authStore:e}=this.context;return{viewerClaimedAuthorId:e.getClaimedAuthorId()}}getStateFromCorrectionsStore(){const{correctionsStore:e}=this.context,{correction:t}=this.props;return{paper:e.getCorrectedPaperById(t.paperHash)}}buildViewerAuthor(){const{correction:{authorId:e}}=this.props,{correctionsStore:t}=this.context,r=t.getAuthorCorrections().findLast(e=>e.fieldNames&&e.fieldNames.includes("authorName"));if(r&&r.fieldCorrections){const t=r.fieldCorrections.find(e=>"authorName"===e.field);if(t&&t.changeValue){const{first:r,middle:a,last:o}=t.changeValue;return i.a.fromJS({ids:[e],name:[r,...a,o].join(" ")})}}const{authorProfileStore:a}=this.context,o=a.getAuthorProfile();return o?i.a.fromJS({ids:[e],name:o.fullName}):i.a.fromJS({ids:[e],name:"You"})}renderAuthor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{correction:r}=this.props;if(e&&e.canonicalId()){const a=e.canonicalId()===this.state.viewerClaimedAuthorId;return p.createElement("li",{key:[r.paperHash,e.canonicalId()].join("|"),className:d()({"corrections-summary__paper-correction__author":!0,"corrections-summary__paper-correction__author__added":t.isAdd,"corrections-summary__paper-correction__author__removed":t.isRemove})},p.createElement("span",{className:"corrections-summary__paper-correction__author__name"},e.name),a&&p.createElement("span",{className:"corrections-summary__paper-correction__author__viewer-claimed-tag"},Object(n.c)(e=>e.correctionSummary.viewerClaimedLabel)))}return p.createElement(p.Fragment,null)}renderAddAuthorship(e){const{correction:t}=this.props,r=t.position,a=e.slice(0,r),o=e.slice(r);return p.createElement("ul",{className:"corrections-summary__paper-correction__author-list corrections-summary__paper-correction__add-authorship"},a.map(e=>this.renderAuthor(e)),this.renderAuthor(this.buildViewerAuthor(),{isAdd:!0}),o.map(e=>this.renderAuthor(e)))}renderRemoveAuthorship(e){const{correction:t}=this.props,r=t.position,a=e.slice(0,r),o=e.slice(r+1),n=e.get(r);return p.createElement("ul",{className:"corrections-summary__paper-correction__author-list corrections-summary__paper-correction__remove-authorship"},a.map(e=>this.renderAuthor(e)),this.renderAuthor(n,{isRemove:!0}),o.map(e=>this.renderAuthor(e)))}renderSwapAuthorship(e){const{correction:t}=this.props,r=t.position,a=e.slice(0,r),o=e.slice(r+1),n=e.get(r);return p.createElement("ul",{className:"corrections-summary__paper-correction__author-list corrections-summary__paper-correction__swap-authorship"},a.map(e=>this.renderAuthor(e)),this.renderAuthor(n,{isRemove:!0}),this.renderAuthor(this.buildViewerAuthor(),{isAdd:!0}),o.map(e=>this.renderAuthor(e)))}render(){const{correction:e}=this.props,{paper:t}=this.state;if(!t)return null;const r=t.authors.map(e=>e.alias);return p.createElement("div",{className:"corrections-summary__paper-correction"},p.createElement("div",{className:"corrections-summary__paper-correction__title"},p.createElement(o.a,{to:"PAPER_DETAIL",params:{paperId:t.id,slug:t.slug}},t.title)),(()=>{switch(e.correctionType){case u.a.AddAuthorship:return this.renderAddAuthorship(r);case u.a.SwapAuthorship:return this.renderSwapAuthorship(r)}})())}}_(f,"contextTypes",{authStore:b.a.instanceOf(s.a).isRequired,authorProfileStore:b.a.instanceOf(c.a).isRequired,correctionsStore:b.a.instanceOf(l.a).isRequired});var O=r(138);r(335);const E={ChangeNameField:"authorName",ChangeOrcidField:"orcidId",ChangeHomepageField:"homepage",ChangeAffiliationField:"affiliations"},y=Object.keys(E).reduce((e,t)=>(e[E[t]]=t,e),{});var S=Object.freeze(E);Object.freeze(y);var P=r(46);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return A}));const j=[u.a.AddAuthorship,u.a.SwapAuthorship],N=[u.a.RemoveAuthorship];class A extends p.PureComponent{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({errorMessage:null},this.getStateFromAuthStore(),{},this.getStateFromCorrectionsStore()),this.context.authStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthStore())}),this.context.correctionsStore.registerComponent(this,()=>{this.setState(this.getStateFromCorrectionsStore())})}getStateFromAuthStore(){const{authStore:e}=this.context;return{authorId:e.getClaimedAuthorId()}}getStateFromCorrectionsStore(){const{correctionsStore:e}=this.context;return{isLoading:e.isLoading(),authorCorrectionsStatus:e.getAuthorCorrectionsStatus(),nameFieldCorrections:e.getFieldCorrectionsByName(S.ChangeNameField),affiliationsFieldCorrections:e.getFieldCorrectionsByName(S.ChangeAffiliationField),homepageFieldCorrections:e.getFieldCorrectionsByName(S.ChangeHomepageField),orcidFieldCorrections:e.getFieldCorrectionsByName(S.ChangeOrcidField),addCorrections:e.getPaperAuthorCorrectionsByTypes(j),addCorrectionsStatus:e.getPaperAuthorCorrectionsStatusByTypes(j),removeCorrections:e.getPaperAuthorCorrectionsByTypes(N),removeCorrectionsStatus:e.getPaperAuthorCorrectionsStatusByTypes(N)}}renderNameFieldCorrection(){const{nameFieldCorrections:e}=this.state;if(e.isEmpty())return null;const{previousValue:t}=e.first(),{changeValue:r}=e.last(),a=[t.first,...t.middle,t.last].join(" "),o=[r.first,...r.middle,r.last].join(" ");return p.createElement("li",{key:"name-field",className:"corrections-summary__author-corrections__item"},p.createElement("div",{className:"corrections-summary__author-corrections__item-label"},Object(n.c)(e=>e.correctionSummary.authorCorrections.nameFieldLabel)),p.createElement("div",{className:"corrections-summary__author-corrections__item-change"},p.createElement("div",{className:"corrections-summary__author-corrections__item-change__old-value"},a),p.createElement("div",{className:"corrections-summary__author-corrections__item-change__new-value"},o)))}renderAffiliationsFieldCorrection(){const{affiliationsFieldCorrections:e}=this.state;if(e.isEmpty())return null;const{previousValue:t}=e.first(),{changeValue:r}=e.last(),a=r.filter(e=>!t.includes(e)),o=t.filter(e=>!r.includes(e));return a.length+o.length===0?null:p.createElement("li",{key:"affiliations-field",className:"corrections-summary__author-corrections__item"},p.createElement("div",{className:"corrections-summary__author-corrections__item-label"},Object(n.c)(e=>e.correctionSummary.authorCorrections.affiliationsFieldLabel)),p.createElement("div",{className:"corrections-summary__author-corrections__item-change"},o.map(e=>p.createElement("div",{key:e,className:"corrections-summary__author-corrections__item-change__remove-value"},e)),a.map(e=>p.createElement("div",{key:e,className:"corrections-summary__author-corrections__item-change__add-value"},e))))}renderOrcidFieldCorrection(){var e,t;const{orcidFieldCorrections:r}=this.state;if(r.isEmpty())return null;const a=null!=(t=r.first())&&null!=(t=t.previousValue)?t.id:t,o=null!=(e=r.last())&&null!=(e=e.changeValue)?e.id:e;return p.createElement("li",{key:"orcid-field",className:"corrections-summary__author-corrections__item"},p.createElement("div",{className:"corrections-summary__author-corrections__item-label"},Object(n.c)(e=>e.correctionSummary.authorCorrections.orcidFieldLabel)),p.createElement("div",{className:"corrections-summary__author-corrections__item-change"},a&&p.createElement("div",{className:"corrections-summary__author-corrections__item-change__old-value"},a),o&&p.createElement("div",{className:"corrections-summary__author-corrections__item-change__new-value"},o)))}renderHomepageFieldCorrection(){const{homepageFieldCorrections:e}=this.state;if(e.isEmpty())return null;const t=e.first().previousValue,r=e.last().changeValue;return p.createElement("li",{key:"homepage-field",className:"corrections-summary__author-corrections__item"},p.createElement("div",{className:"corrections-summary__author-corrections__item-label"},Object(n.c)(e=>e.correctionSummary.authorCorrections.homepageFieldLabel)),p.createElement("div",{className:"corrections-summary__author-corrections__item-change"},t&&p.createElement("div",{className:"corrections-summary__author-corrections__item-change__old-value"},t),r&&p.createElement("div",{className:"corrections-summary__author-corrections__item-change__new-value"},r)))}renderAuthorCorrections(){const{authorCorrectionsStatus:e}=this.state,t=[this.renderNameFieldCorrection(),this.renderAffiliationsFieldCorrection(),this.renderOrcidFieldCorrection(),this.renderHomepageFieldCorrection()].filter(e=>!!e);return 0===t.length?null:p.createElement("section",{className:"corrections-summary__section corrections-summary__author-corrections"},p.createElement("h3",{className:"corrections-summary__correction-headline"},p.createElement("span",{className:"corrections-summary__correction-headline__text"},Object(n.c)(e=>e.correctionSummary.authorCorrections.headerText))),p.createElement(R,{status:e}),p.createElement("ul",{className:"corrections-summary__author-corrections__list"},t))}renderAddCorrections(){const{addCorrections:e}=this.state;return e.isEmpty()?null:p.createElement("section",{className:"corrections-summary__section corrections-summary__paper-corrections corrections-summary__add-corrections"},p.createElement("h3",{className:"corrections-summary__correction-headline"},p.createElement("span",{className:"corrections-summary__correction-headline__text"},Object(n.a)(e=>e.correctionSummary.addCorrections.headerText,e.size))),p.createElement("ul",{className:"corrections-summary__paper-corrections__list"},e.map(e=>p.createElement("li",{key:"add-"+(e.id||0),className:"corrections-summary__paper-corrections__item"},p.createElement(R,{status:e.completionStatus}),p.createElement(f,{correction:e})))))}renderRemoveCorrections(){const{removeCorrections:e}=this.state;return e.isEmpty()?null:p.createElement("section",{className:"corrections-summary__section corrections-summary__paper-corrections corrections-summary__remove-corrections"},p.createElement("h3",{className:"corrections-summary__correction-headline"},p.createElement("span",{className:"corrections-summary__correction-headline__text"},Object(n.a)(e=>e.correctionSummary.removeCorrections.headerText,e.size))),p.createElement("ul",{className:"corrections-summary__paper-corrections__list"},e.map(e=>p.createElement("li",{key:"remove-"+(e.id||0),className:"corrections-summary__paper-corrections__item"},p.createElement(R,{status:e.completionStatus}),p.createElement(f,{correction:e})))))}render(){return p.createElement("div",{className:"corrections-summary"},this.renderAuthorCorrections(),this.renderRemoveCorrections(),this.renderAddCorrections())}}function R(e){let{status:t}=e;return t?p.createElement("span",{className:"corrections-summary__correction-headline__status"},p.createElement("span",{className:"corrections-summary__correction-headline__status__label"},Object(n.c)(e=>e.correctionSummary.statusLabel[t])),(()=>{switch(t){default:return null;case P.a.Submitted:case P.a.Processing:return p.createElement(a.a,{icon:"status-waiting"});case P.a.Cancelled:case P.a.Failed:return p.createElement(a.a,{icon:"status-warning"});case P.a.Succeeded:return p.createElement(a.a,{icon:"status-approved"})}})()):null}v(A,"contextTypes",{api:b.a.instanceOf(O.a).isRequired,authStore:b.a.instanceOf(s.a).isRequired,correctionsStore:b.a.instanceOf(l.a).isRequired})},896:function(e,t,r){"use strict";var a=r(9),o=r.n(a),n=r(58),s=r.n(n),i=r(4),c=r.n(i);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){return l(this,t),u(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(o.a.Component);p.propTypes={when:s.a.bool,message:s.a.oneOfType([s.a.func,s.a.string]).isRequired},p.defaultProps={when:!0},p.contextTypes={router:s.a.shape({history:s.a.shape({block:s.a.func.isRequired}).isRequired}).isRequired},t.a=p},897:function(e,t,r){"use strict";r.r(t);var a,o,n,s=r(381),i=r(37),c=r(9),l=r.n(c);class u extends c.Component{render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(22).then(r.bind(null,837)),chunkName:"shared-AccountAddPapersPage",moduleId:837}})}}n=()=>Object(i.c)(e=>e.account.page.addPapers.pageTitle),(o="getPageTitle")in(a=u)?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n;class p extends c.Component{render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(23).then(r.bind(null,838)),chunkName:"shared-AccountAuthorClaimPendingPage",moduleId:838}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(p,"getPageTitle",()=>Object(i.c)(e=>e.account.page.authorClaimPending.pageTitle));var h=r(38);class d extends c.Component{static async willRouteTo(e){let{api:t,authStore:r,authorProfileStore:a,authorCorrectionsStore:o}=e;if(o.isModeratorCorrecting()){const e=o.getModeratorCorrectionsAuthorId();if(e)return t.fetchAuthorDetail(e,null,!1)}else{const e=r.getClaimedAuthorId(),o=a.getAuthorProfile();if(!e)return new h.a({routeName:"ACCOUNT_CONTACT",replace:!0,status:302});if(!o)return t.fetchAuthorProfile({authorId:e})}}render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(24).then(r.bind(null,883)),chunkName:"shared-AccountAuthorContactPage",moduleId:883}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(d,"getPageTitle",()=>Object(i.c)(e=>e.account.page.authorContact.pageTitle));var m=r(4),b=r.n(m);class g extends c.Component{render(){const{match:e}=this.props,t=function(e){const t=function(e){var t;const r=(null!=(t=e)&&null!=(t=t.params)?t.authorId:t)||"";return/^\d+$/.test(r)?parseInt(r,10):null}(e);return b()(t,"param 'authorId' must be a number"),t}(e);return c.createElement(s.a,{showLoadingPage:!1,compProps:{authorId:t},load:{importer:()=>r.e(25).then(r.bind(null,839)),chunkName:"shared-AccountAuthorUnclaimSuccessPage",moduleId:839}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(g,"getPageTitle",()=>Object(i.c)(e=>e.account.page.authorUnclaimSuccess.pageTitle));class _ extends c.Component{static async willRouteTo(e){let{api:t,authorCorrectionsStore:r}=e;const a=r.isModeratorCorrecting?r.getModeratorCorrectionsAuthorId():null;if(a)return Promise.all([t.fetchAuthorCorrectionsForAuthor({authorId:a}),t.fetchPaperAuthorCorrectionsForAuthor({authorId:a,includePaperModel:"PaperLite"})])}render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(27).then(r.bind(null,840)),chunkName:"shared-AccountCorrectionsStatusPage",moduleId:840}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(_,"getPageTitle",()=>Object(i.c)(e=>e.account.page.corrections.pageTitle));var f=r(617),O=r(618),E=r(619);class y extends c.Component{render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(30).then(r.bind(null,841)),chunkName:"shared-AccountRemovePapersPage",moduleId:841}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(y,"getPageTitle",()=>Object(i.c)(e=>e.account.page.removePapers.pageTitle));var S=r(620),P=r(158);function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends c.Component{render(){const{route:e}=this.props;return c.createElement(s.a,{footer:!1,compProps:{route:e},load:{importer:()=>r.e(10).then(r.bind(null,887)),chunkName:"desktop-AdminPage",moduleId:887}})}}C(v,"getPageTitle",()=>Object(i.c)(e=>e.moderation.pageTitle)),C(v,"requiresRoles",()=>[P.a,P.b,P.c]);class j extends c.Component{static willRouteTo(e){let{api:t}=e;return t.getExperiments()}render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(6).then(r.bind(null,888)),chunkName:"desktop-AdminExperimentsPage",moduleId:888}})}}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(j,"getPageTitle",()=>Object(i.c)(e=>e.general.appName));class A extends c.Component{render(){var e;const{match:t}=this.props,a=null!=(e=t)&&null!=(e=e.params)?e.key:e;return c.createElement(s.a,{showLoadingPage:!1,compProps:{experimentKey:a},load:{importer:()=>r.e(5).then(r.bind(null,842)),chunkName:"desktop-AdminExperimentAuditPage",moduleId:842}})}}N(A,"getPageTitle",()=>Object(i.c)(e=>e.general.appName)),N(A,"requiresAuthentication",()=>!0);class R extends c.Component{static willRouteTo(e){let{api:t}=e;return t.getFeatureFlags()}render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(7).then(r.bind(null,843)),chunkName:"desktop-AdminFeatureFlagsPage",moduleId:843}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(R,"getPageTitle",()=>Object(i.c)(e=>e.general.appName));class w extends c.Component{render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(8).then(r.bind(null,844)),chunkName:"desktop-AdminLoginAsPage",moduleId:844}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(w,"requiresRoleFrom",()=>[P.a,P.c]);class T extends c.Component{static willRouteTo(e){let{api:t}=e;return t.getExperiments()}render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(9).then(r.bind(null,889)),chunkName:"desktop-AdminManageUsersPage",moduleId:889}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(T,"getPageTitle",()=>Object(i.c)(e=>e.general.appName));var I=r(730),x=r(736),k=r(719),D=r(737),L=r(77),F=r(97),q=r(8),U=r.n(q);function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class H extends c.Component{static async willRouteTo(e,t){let{api:r,claimModerationStore:a}=e;if(!a.isUninitialized())return;const o=Object(L.a)(t.params.status)||L.b.Unsupported,{query:n}=t.query;return r.getAuthorProfileListForClaimModeration({status:o,query:n})}render(){const{location:e}=this.context.history;return c.createElement(s.a,{showLoadingPage:!1,compProps:{location:e},load:{importer:()=>r.e(11).then(r.bind(null,882)),chunkName:"desktop-AuthorClaimModerationPage",moduleId:882}})}}M(H,"getPageTitle",()=>Object(i.c)(e=>e.authorClaimModeration.pageTitle)),M(H,"requiresAuthentication",()=>!0),M(H,"contextTypes",{history:U.a.instanceOf(F.a).isRequired});var B=r(728),V=r(654),Q=r(738),G=r(723),W=r(655);class Y extends c.PureComponent{render(){const{formError:e}=this.props;return c.createElement("div",{className:"author-onboarding__banner"},c.createElement("div",{className:"author-onboarding__banner__columns"},c.createElement("div",{className:"author-onboarding__banner__column"},this.props.leftContent,c.createElement("div",{className:"author-onboarding__banner__form-error"},e)),c.createElement("div",{className:"author-onboarding__banner__column"},this.props.children)))}}var z=r(386),K=r(446),J=r(191);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $=e=>Object(J.b)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{id:"author_onboarding_nav"})),ee=()=>Object(J.b)({id:"author_onboarding_skip_all"}),te=()=>Object(J.b)({id:"author_onboarding_skip_step"});var re=r(5),ae=r(43),oe=r(7),ne=r(138),se=r(65),ie=r(143),ce=r(896);function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class he extends c.Component{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),pe(this,"onClickSubmit",()=>{this.state.hasDraftPapers?this.setState({hasAttemptedSubmit:!0,errorMessage:Object(i.c)(e=>e.authorAddPapers.error.papersInDraft)},()=>{Object(re.a)()&&this.scrollToPaper(this.context.authorCorrectionsStore.getDraftPaperIds().first())}):this.setState({hasAttemptedSubmit:!0},()=>{this.submitCorrections().then(()=>this.emitStepComplete()).catch(e=>this.onApiError(e))})}),pe(this,"emitStepComplete",()=>{this.props.onStepComplete("AUTHOR_ONBOARDING_ADD_PAPERS")}),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isSending:!1,errorMessage:null,hasAttemptedSubmit:!1},this.getStateFromAuthStore(),{},this.getStateFromAuthorCorrectionsStore()),this.context.authStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthStore())}),this.context.authorCorrectionsStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorCorrectionsStore())})}getStateFromAuthStore(){const{authStore:e}=this.context;return{authorId:e.getClaimedAuthorId()}}getStateFromAuthorCorrectionsStore(){const{authorCorrectionsStore:e}=this.context,t=e.hasDraftPapers();return{isFormDirty:e.hasPendingCorrections()||t,hasDraftPapers:t}}scrollToPaper(e){if(!e)return!1;const t=document.querySelector('.author-add-papers__paper[data-paper-id="'.concat(e,'"]'));return!!t&&(t.scrollIntoView({behavior:"smooth"}),!0)}onApiError(e){oe.a.error("Error with API",e),this.setState({errorMessage:Object(i.c)(e=>e.authorRemovePapers.error.apiSubmitFailed),isSending:!1})}async submitCorrections(){const{authorId:e}=this.state,{api:t,authorCorrectionsStore:r}=this.context;b()(e,"authorId must be populated to submit corrections");const a=r.getPendingCorrections(),o=r.getPendingIndexRequestUrls();await Object(ae.e)(this,{isSending:!0}),a&&await t.disablePushSafetyCheck(t=>t.submitPaperAuthorCorrections({authorId:e,corrections:a.toJS()})),o&&await t.disablePushSafetyCheck(e=>e.submitAuthorIndexRequests({urls:o.toJS()})),await Object(ae.e)(this,{isSending:!1}),r.clearPendingCorrections(),r.clearPendingIndexRequests()}render(){const{stepNum:e,numSteps:t}=this.props,{authorId:r,errorMessage:a,hasAttemptedSubmit:o,hasDraftPapers:n,isFormDirty:s}=this.state;return c.createElement("div",null,c.createElement("div",{className:"author-onboarding__page__content-block"},c.createElement("div",{className:"author-onboarding__step-num-label"},Object(i.c)(e=>e.authorOnboarding.stepNumLabel,e,t)),c.createElement("h2",{className:"author-onboarding__step-label"},Object(i.c)(e=>e.authorOnboarding.addPapersPage.stepLabel)),c.createElement("div",{className:"author-onboarding__step-description"},c.createElement(z.a,{content:e=>e.authorOnboarding.addPapersPage.stepDescription}))),c.createElement("hr",{className:"author-onboarding__divider"}),r&&c.createElement(G.a,{authorId:r,showDraftAsError:o&&n}),r?c.createElement(W.a,{authorId:r}):null,c.createElement(Y,{formError:a},c.createElement("button",le({className:"author-onboarding__banner__link-button"},te(),{onClick:this.emitStepComplete}),Object(i.c)(e=>e.authorOnboarding.addPapersPage.skipLabel)),c.createElement("span",{className:"author-onboarding__banner__button-spacer"}),c.createElement("button",le({className:"author-onboarding__banner__continue-button button button--primary"},Object(K.g)(),{onClick:this.onClickSubmit}),Object(i.c)(e=>e.authorOnboarding.banner.submitLabel))),c.createElement(ce.a,{when:s,message:Object(i.c)(e=>e.authorOnboarding.dirtyFormMessage)}))}}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}pe(he,"contextTypes",{api:U.a.instanceOf(ne.a).isRequired,authStore:U.a.instanceOf(se.a).isRequired,authorCorrectionsStore:U.a.instanceOf(ie.a).isRequired});class me extends c.Component{render(){return c.createElement(he,this.props)}}de(me,"getPageTitle",()=>Object(i.c)(e=>e.authorOnboarding.addPapersPage.pageTitle)),de(me,"getStepLabel",()=>Object(i.c)(e=>e.authorOnboarding.addPapersPage.stepLabel)),de(me,"requiresAuthentication",()=>!0);var be=r(378),ge=r(379);class _e extends c.PureComponent{render(){const{authorId:e}=this.props;return c.createElement("div",{className:"corrections-summary"},c.createElement("div",{className:"corrections-summary__section"},c.createElement("div",{className:"correction-summary__blank-state"},c.createElement("div",{className:"correction-summary__blank-state__content"},c.createElement(be.a,{className:"correction-summary__blank-state__icon",icon:"user-with-checkmark",width:"70",height:"87.5"}),c.createElement("div",{className:"correction-summary__blank-state__description"},Object(i.c)(e=>e.correctionSummary.noCorrections.label)),e&&c.createElement("div",{className:"correction-summary__blank-state__author-page-button"},c.createElement(ge.a,{to:"AUTHOR_PROFILE_BY_ID",params:{authorId:e},className:"button button--secondary"},Object(i.c)(e=>e.correctionSummary.noCorrections.authorPageButton)))))))}}var fe=r(462),Oe=r(733),Ee=r(156);function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Pe extends c.Component{constructor(e,t){super(e,t),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.getStateFromAuthStore(),{},this.getStateFromCorrectionsStore()),this.context.authStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthStore())}),this.context.correctionsStore.registerComponent(this,()=>{this.setState(this.getStateFromCorrectionsStore())}),this.props.onStepComplete("AUTHOR_ONBOARDING_COMPLETE")}getStateFromAuthStore(){const{authStore:e}=this.context;return{claimedAuthorId:e.getClaimedAuthorId()}}getStateFromCorrectionsStore(){const{correctionsStore:e}=this.context;return{hasPendingCorrections:e.hasCorrections()}}render(){const{stepNum:e,numSteps:t}=this.props,{hasPendingCorrections:r,claimedAuthorId:a}=this.state;return c.createElement("div",{className:"author-onboarding__page__content-block"},c.createElement("div",{className:"author-onboarding__step-num-label"},Object(i.c)(e=>e.authorOnboarding.stepNumLabel,e,t)),c.createElement("h2",{className:"author-onboarding__step-label"},Object(i.c)(e=>e.authorOnboarding.completePage.stepLabel)),r?c.createElement(Oe.a,null):c.createElement(_e,{authorId:a}),a&&c.createElement(fe.d,null,c.createElement(fe.c,null,c.createElement("span",{className:"author-onboarding__banner__button-spacer"}),c.createElement(ge.a,{className:"author-onboarding__page__author-profile-link-button button button--primary",to:"AUTHOR_PROFILE_BY_ID",params:{authorId:a}},Object(i.c)(e=>e.account.page.corrections.authorPageLink)))))}}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Se(Pe,"contextTypes",{authStore:U.a.instanceOf(se.a).isRequired,correctionsStore:U.a.instanceOf(Ee.a).isRequired});class ve extends c.Component{static async willRouteTo(e){let{api:t,authStore:r}=e;const a=r.getClaimedAuthorId();if(a)return Promise.all([t.fetchAuthorCorrectionsForAuthor({authorId:a}),t.fetchPaperAuthorCorrectionsForAuthor({authorId:a,includePaperModel:"PaperLite"})])}render(){return c.createElement(Pe,this.props)}}Ce(ve,"getPageTitle",()=>Object(i.c)(e=>e.authorOnboarding.completePage.pageTitle)),Ce(ve,"getStepLabel",()=>Object(i.c)(e=>e.authorOnboarding.completePage.stepLabel)),Ce(ve,"requiresAuthentication",()=>!0);var je=r(377),Ne=r.n(je);var Ae=e=>{let{name:t,label:r,placeholder:a,error:o,value:n,onChange:s,isRequired:l}=e;return c.createElement("label",{className:Ne()("author-edit__field",{"author-edit__has-error":o})},c.createElement("div",{className:"author-edit__field__label"},c.createElement("span",{className:"author-edit__field__label-text"},r),!l&&c.createElement("span",{className:"author-edit__field__label-optional"},Object(i.c)(e=>e.authorEdit.form.optional))),c.createElement("div",{className:"author-edit__field__input"},c.createElement("input",{type:"text",name:t,className:"legacy__input author-edit__field__input-text",value:n,onChange:s,placeholder:a}),c.createElement("div",{className:"author-edit__field__error"},o)))};var Re=r(142),we=r(119),Te=r(570),Ie=r(571),xe=r(17),ke=r(44),De=r.n(ke);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ue extends c.Component{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),qe(this,"onClickSkip",e=>{e.preventDefault(),this.emitStepComplete()}),qe(this,"onClickSubmit",e=>{e.preventDefault(),this.updateAuthorProfile()}),qe(this,"onSubmitForm",e=>{e.preventDefault(),this.updateAuthorProfile()}),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isSending:!1,isFormDirty:!1,formError:null,firstNameError:null,middleNamesError:null,lastNameError:null,affiliationError:null,orcidIdError:null,homepageUrlError:null},this.getStateFromAuthorOrAuthorProfileStore()),this.context.authorStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorOrAuthorProfileStore())}),this.context.authorProfileStore.registerComponent(this,()=>{this.state.isFormDirty||this.setState(this.getStateFromAuthorOrAuthorProfileStore())}),this.onChangeFirstName=this.onChangeText.bind(this,"firstName"),this.onChangeMiddleNames=this.onChangeText.bind(this,"middleNames"),this.onChangeLastName=this.onChangeText.bind(this,"lastName"),this.onChangeAffiliation=this.onChangeText.bind(this,"affiliation"),this.onChangeOrcidId=this.onChangeText.bind(this,"orcidId"),this.onChangeHomepageUrl=this.onChangeText.bind(this,"homepageUrl")}getStateFromAuthorOrAuthorProfileStore(){const e=this.context.authorProfileStore.getAuthorProfile();if(e){const t=e.affiliations.isEmpty?"":e.affiliations.join("; "),r=e.middleNames.isEmpty?"":e.middleNames.join(" ");return{firstNameValue:e.firstName||"",middleNamesValue:r,lastNameValue:e.lastName||"",affiliationValue:t,orcidIdValue:e.orcidId||"",homepageUrlValue:e.homepageUrl||"",fullNameValue:e.fullName||""}}const{authorStore:t}=this.context,{authorDetail:r}=t;if(r){const e=r.author.affiliations.isEmpty?"":r.author.affiliations.join("; "),t=r.author.middleNames.isEmpty?"":r.author.middleNames.join(" ");return{firstNameValue:r.author.firstName||"",middleNamesValue:t,lastNameValue:r.author.lastName||"",affiliationValue:e,orcidIdValue:r.author.orcidId||"",homepageUrlValue:r.author.homepage||"",fullNameValue:""}}return{firstNameValue:"",middleNamesValue:"",lastNameValue:"",affiliationValue:"",orcidIdValue:"",homepageUrlValue:"",fullNameValue:""}}validateFormState(){const{lastNameValue:e,orcidIdValue:t,homepageUrlValue:r}=this.state;let a=null;let o=null,n=null;return e.trim()||(a=Object(i.c)(e=>e.authorEdit.error.lastNameMissing)),t&&(Ie.a.test(t)||(o=Object(i.c)(e=>e.authorEdit.error.orcidIdInvalid))),r&&(De.a.parse(r).host&&Te.a.test(r)||(n=Object(i.c)(e=>e.authorEdit.error.homepageUrlInvalid))),{firstNameError:null,middleNamesError:null,lastNameError:a,affiliationError:null,orcidIdError:o,homepageUrlError:n}}async updateAuthorProfile(){const e=this.validateFormState();this.setState(e);if(!!Object.values(e).find(e=>null!==e))return void oe.a.warn("Could not save do to errors",e);const{author:t}=this.context.authorStore,r={authorId:t.id,lastName:this.state.lastNameValue.trim(),middleNames:this.state.middleNamesValue.toString().split(" ").map(e=>e.trim()),firstName:this.state.firstNameValue.trim(),affiliation:this.state.affiliationValue.toString().split(";").map(e=>e.trim()),orcidId:this.state.orcidIdValue.trim(),homepageUrl:this.state.homepageUrlValue.trim()};oe.a.info("Saving author profile",r),await Object(ae.e)(this,{isSending:!0,formError:null});const a=Object(ae.b)(0);try{const{api:e}=this.context;await e.disablePushSafetyCheck(e=>e.updateAuthorProfile(r))}catch(e){return void await Object(ae.e)(this,{isSending:!1,formError:Object(i.c)(e=>e.authorEdit.error.apiFailed)})}await a,await Object(ae.e)(this,{isSending:!1}),this.emitStepComplete()}emitStepComplete(){this.props.onStepComplete("AUTHOR_ONBOARDING_PROFILE")}onChangeCheckbox(e,t){this.setState({isFormDirty:!0,["".concat(e,"Value")]:!!t.currentTarget.checked})}onChangeText(e,t){this.setState({isFormDirty:!0,["".concat(e,"Error")]:null,["".concat(e,"Value")]:t.currentTarget.value})}getHeaderLabel(e){return e?Object(i.c)(e=>e.authorOnboarding.profilePage.stepLabelWithName,e):Object(i.c)(e=>e.authorOnboarding.profilePage.stepLabelWithoutName)}render(){const{authorDetail:e}=this.context.authorStore;if(!e)return null;const{stepNum:t,numSteps:r}=this.props,{formError:a,firstNameError:o,firstNameValue:n,middleNamesError:s,middleNamesValue:l,lastNameError:u,lastNameValue:p,affiliationError:h,affiliationValue:d,orcidIdError:m,orcidIdValue:b,homepageUrlError:g,homepageUrlValue:_,fullNameValue:f,isFormDirty:O}=this.state;return c.createElement("div",{className:"author-edit"},c.createElement("div",{className:"author-onboarding__page__content-block"},c.createElement("div",{className:"author-onboarding__step-num-label"},Object(i.c)(e=>e.authorOnboarding.stepNumLabel,t,r)),c.createElement("h2",{className:"author-onboarding__step-label"},this.getHeaderLabel(f)),c.createElement("div",{className:"author-onboarding__step-description"},c.createElement(z.a,{content:e=>e.authorOnboarding.profilePage.stepDescription}))),c.createElement("hr",{className:"author-edit__divider"}),c.createElement("form",{className:"author-edit__form",onSubmit:this.onSubmitForm},c.createElement("div",{className:"author-onboarding__page__content-block"},c.createElement(Ae,{name:"firstName",label:Object(i.c)(e=>e.authorEdit.form.firstNameLabel),placeholder:Object(i.c)(e=>e.authorEdit.form.firstNamePlaceholder),value:n,error:o,onChange:this.onChangeFirstName,isRequired:!1}),c.createElement(Ae,{name:"middleNames",label:Object(i.c)(e=>e.authorEdit.form.middleNamesLabel),placeholder:Object(i.c)(e=>e.authorEdit.form.middleNamesPlaceholder),value:l,error:s,onChange:this.onChangeMiddleNames,isRequired:!1}),c.createElement(Ae,{name:"lastName",label:Object(i.c)(e=>e.authorEdit.form.lastNameLabel),placeholder:Object(i.c)(e=>e.authorEdit.form.lastNamePlaceholder),value:p,error:u,onChange:this.onChangeLastName,isRequired:!0}),c.createElement("div",{className:"author-onboarding__field__description"},c.createElement("span",{className:"author-onboarding__field__description-text"},Object(i.c)(e=>e.authorEdit.form.applyToPapersDescription)))),c.createElement("hr",{className:"author-edit__divider"}),c.createElement("div",{className:"author-onboarding__page__content-block"},c.createElement(Ae,{name:"affiliation",label:Object(i.c)(e=>e.authorEdit.form.affiliationLabel),placeholder:Object(i.c)(e=>e.authorEdit.form.affiliationPlaceholder),value:d,error:h,onChange:this.onChangeAffiliation,isRequired:!1}),c.createElement(Ae,{name:"orcidId",label:Object(i.c)(e=>e.authorEdit.form.orcidIdLabel),placeholder:Object(i.c)(e=>e.authorEdit.form.orcidIdPlaceholder),value:b,error:m,onChange:this.onChangeOrcidId,isRequired:!1}),c.createElement(Ae,{name:"homepageUrl",label:Object(i.c)(e=>e.authorEdit.form.homepageUrlLabel),placeholder:Object(i.c)(e=>e.authorEdit.form.homepageUrlPlaceholder),value:_,error:g,onChange:this.onChangeHomepageUrl,isRequired:!1})),c.createElement(Y,{formError:a},c.createElement("button",Le({className:"author-onboarding__banner__link-button"},te(),{onClick:this.onClickSkip}),Object(i.c)(e=>e.authorOnboarding.profilePage.skipLabel)),c.createElement("span",{className:"author-onboarding__banner__button-spacer"}),c.createElement("button",Le({className:"author-onboarding__banner__continue-button button button--primary"},Object(J.b)({id:"author_profile_submit"}),{onClick:this.onClickSubmit}),Object(i.c)(e=>e.authorOnboarding.banner.submitLabel)))),c.createElement(ce.a,{when:O,message:Object(i.c)(e=>e.authorOnboarding.dirtyFormMessage)}))}}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}qe(Ue,"contextTypes",{api:U.a.instanceOf(ne.a).isRequired,authorStore:U.a.instanceOf(Re.a).isRequired,authorProfileStore:U.a.instanceOf(we.a).isRequired,authStore:U.a.instanceOf(se.a).isRequired,dispatcher:U.a.instanceOf(xe.a).isRequired});class He extends c.Component{static async willRouteTo(e){let{authStore:t,api:r}=e;const a=t.getClaimedAuthorId();return b()(a,"Claimed author missing"),Promise.all([r.fetchAuthorProfile({authorId:a}),r.fetchAuthorDetail(a,null,!1)])}render(){return c.createElement(Ue,this.props)}}Me(He,"getPageTitle",()=>Object(i.c)(e=>e.authorOnboarding.profilePage.pageTitle)),Me(He,"getStepLabel",()=>Object(i.c)(e=>e.authorOnboarding.profilePage.stepLabelWithoutName)),Me(He,"requiresAuthentication",()=>!0);var Be=r(729),Ve=r(656),Qe=r(572);function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ze extends c.Component{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),Ye(this,"onClickSubmit",()=>{this.submitCorrections().then(()=>this.emitStepComplete()).catch(e=>this.onApiError(e))}),Ye(this,"emitStepComplete",()=>{this.props.onStepComplete("AUTHOR_ONBOARDING_REMOVE_PAPERS")}),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isSending:!1,errorMessage:null},this.getStateFromAuthStore(),{},this.getStateFromAuthorCorrectionsStore()),this.context.authStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthStore())}),this.context.authorCorrectionsStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorCorrectionsStore())})}getStateFromAuthStore(){const{authStore:e}=this.context;return{authorId:e.getClaimedAuthorId()}}getStateFromAuthorCorrectionsStore(){const{authorCorrectionsStore:e}=this.context;return{isFormDirty:e.hasPendingCorrections()||e.hasDraftPapers()}}onApiError(e){oe.a.error("Error with API",e),this.setState({errorMessage:Object(i.c)(e=>e.authorRemovePapers.error.apiSubmitFailed),isSending:!1})}async submitCorrections(){const{api:e,authorCorrectionsStore:t}=this.context,{authorId:r}=this.state,a=t.getPendingCorrections();await Object(ae.e)(this,{isSending:!0}),await e.disablePushSafetyCheck(e=>e.submitPaperAuthorCorrections({authorId:r,corrections:a})),await Object(ae.e)(this,{isSending:!1}),t.clearPendingCorrections()}render(){const{stepNum:e,numSteps:t}=this.props,{authorId:r,errorMessage:a,isFormDirty:o}=this.state;return c.createElement("div",null,c.createElement("div",{className:"author-onboarding__page__content-block"},c.createElement("div",{className:"author-onboarding__step-num-label"},Object(i.c)(e=>e.authorOnboarding.stepNumLabel,e,t)),c.createElement("h2",{className:"author-onboarding__step-label"},Object(i.c)(e=>e.authorOnboarding.removePapersPage.stepLabel)),c.createElement("div",{className:"author-onboarding__step-description"},c.createElement(z.a,{content:e=>e.authorOnboarding.removePapersPage.stepDescription}))),c.createElement("hr",{className:"author-onboarding__divider"}),r&&c.createElement(Be.a,{key:r,authorId:r}),c.createElement(Y,{formError:a,leftContent:c.createElement(Ve.a,null)},c.createElement("button",Ge({className:"author-onboarding__banner__link-button"},te(),{onClick:this.emitStepComplete}),Object(i.c)(e=>e.authorOnboarding.removePapersPage.skipLabel)),c.createElement("span",{className:"author-onboarding__banner__button-spacer"}),c.createElement("button",Ge({className:"author-onboarding__banner__continue-button button button--primary"},Object(Qe.c)(),{onClick:this.onClickSubmit}),Object(i.c)(e=>e.authorOnboarding.banner.submitLabel))),c.createElement(ce.a,{when:o,message:Object(i.c)(e=>e.authorOnboarding.dirtyFormMessage)}))}}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ye(ze,"contextTypes",{api:U.a.instanceOf(ne.a).isRequired,authStore:U.a.instanceOf(se.a).isRequired,authorCorrectionsStore:U.a.instanceOf(ie.a).isRequired});class Je extends c.Component{render(){return c.createElement(ze,this.props)}}Ke(Je,"getPageTitle",()=>Object(i.c)(e=>e.authorOnboarding.removePapersPage.pageTitle)),Ke(Je,"getStepLabel",()=>Object(i.c)(e=>e.authorOnboarding.removePapersPage.stepLabel)),Ke(Je,"requiresAuthentication",()=>!0);var Xe=r(573);function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}class $e extends c.PureComponent{renderStep(e){let{stepNum:t,isActive:r,hasCompleted:a,linkRouteName:o,label:n}=e;const s=c.createElement(c.Fragment,null,c.createElement("div",{className:"author-onboarding-nav__step-num"},a?c.createElement(be.a,{className:"author-onboarding-nav__step-num__check",icon:"check",height:"8",width:"8"}):c.createElement("div",{className:"author-onboarding-nav__step-num__number"},t)),c.createElement("div",{className:"author-onboarding-nav__step-label"},n));return c.createElement("li",{key:t,className:Ne()({"author-onboarding-nav__step":!0,"author-onboarding-nav__is-active":r,"author-onboarding-nav__has-completed":a})},a?c.createElement(ge.a,Ze({to:o},$({"route-name":o}),{className:"author-onboarding-nav__step-layout"}),s):c.createElement("div",{className:"author-onboarding-nav__step-layout"},s))}render(){const{steps:e}=this.props;return c.createElement("div",{className:"author-onboarding-nav"},c.createElement("div",{className:"author-onboarding-nav__beta-tag"},c.createElement(Xe.a,{display:"link",openNewTab:!0})),c.createElement("h3",{className:"author-onboarding-nav__headline"},Object(i.c)(e=>e.authorOnboarding.nav.headline)),c.createElement("nav",{className:"author-onboarding-nav__nav"},c.createElement("ol",{className:"author-onboarding-nav__step-list"},e.map(e=>this.renderStep(e)))))}}var et=r(382),tt=r(18),rt=r(74),at=r(66),ot=r(29),nt=r(0),st=r.n(nt),it=r(117);function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ut extends c.Component{constructor(){super(...arguments),lt(this,"state",{completedSteps:nt.Set()}),lt(this,"onStepComplete",e=>{this.completeStep(e).catch(e=>oe.a.error(e))}),lt(this,"onClickCancel",()=>{const{onCancel:e}=this.props;e&&e()}),lt(this,"onClickContact",e=>{e.preventDefault(),this.context.dispatcher.dispatch(Object(rt.b)({id:ot.b.FEEDBACK}))})}getSteps(){var e;const{history:t}=this.context,{route:r}=this.props,a=null!=(e=Object(it.a)(r.routes,t.location.pathname))&&null!=(e=e[0])&&null!=(e=e.route)?e.path:e;return(r.routes||[]).map((e,t)=>{const r=Object(tt.d)(e.path)||"AUTHOR_ONBOARDING",o=e.component,n="function"==typeof o.getStepLabel?o.getStepLabel():null;return{isActive:e.path===a,hasCompleted:this.state.completedSteps.has(r),label:n||Object(i.c)(e=>e.authorOnboarding.defaultStepLabel,(t+1).toLocaleString()),linkRouteName:r,stepNum:t+1}})}async completeStep(e){const{completedSteps:t}=this.state;t.has(e)||await Object(ae.e)(this,{completedSteps:t.add(e)});const r=this.getSteps(),a=r.findIndex(e=>!e.hasCompleted),o=a<0?null:r[a];if(o){const{history:e}=this.context;e.push(Object(tt.e)({routeName:o.linkRouteName}))}}render(){const e=this.getSteps(),t=this.context.authStore.getClaimedAuthorId();const r={onStepComplete:this.onStepComplete,stepNum:pt(e),numSteps:e.length};return c.createElement(et.a,{className:"author-onboarding"},c.createElement("div",{className:"author-onboarding__columns"},c.createElement("div",{className:"author-onboarding__column author-onboarding__column__nav"},c.createElement("div",{className:"author-onboarding__nav"},c.createElement($e,{steps:e}),c.createElement("div",{className:"author-onboarding__nav__links"},t?c.createElement(ge.a,ct({to:"AUTHOR_PROFILE_BY_ID",params:{authorId:t},className:"author-onboarding__nav__link"},ee(),{onClick:this.onClickCancel}),Object(i.c)(e=>e.authorOnboarding.banner.cancelLabel)):c.createElement(ge.a,ct({to:"HOME",className:"author-onboarding__nav__link"},ee(),{onClick:this.onClickCancel}),Object(i.c)(e=>e.authorOnboarding.banner.cancelLabel)),c.createElement("a",{className:"author-onboarding__nav__link",onClick:this.onClickContact},Object(i.c)(e=>e.authorOnboarding.banner.contactLabel))))),c.createElement("div",{className:"author-onboarding__column author-onboarding__page"},Object(it.b)(this.props.route.routes,r))))}}function pt(e){const t=e.find(e=>e.isActive);return t?t.stepNum:1}function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}lt(ut,"contextTypes",{api:U.a.instanceOf(ne.a).isRequired,authStore:U.a.instanceOf(se.a).isRequired,dispatcher:U.a.instanceOf(xe.a).isRequired,history:U.a.instanceOf(F.a).isRequired,weblabStore:U.a.instanceOf(at.b).isRequired});class dt extends c.Component{static async willRouteTo(e,t){const{api:r,authStore:a}=e,o=a.getClaimedAuthorId();return o?t.path===tt.b.AUTHOR_ONBOARDING?new h.a({routeName:"AUTHOR_ONBOARDING_PROFILE",replace:!0,status:302}):void await r.fetchAuthorProfile({authorId:o}):new h.a({routeName:"HOME",replace:!0,status:302})}static getRobotDirectives(e){e.shouldIndex=!1}render(){return c.createElement(ut,this.props)}}ht(dt,"getPageTitle",()=>Object(i.c)(e=>e.authorEdit.pageTitle.withoutName)),ht(dt,"requiresAuthentication",()=>!0);var mt=r(606),bt=r(660),gt=r(411),_t=r(387),ft=r(437),Ot=r(430),Et=r(413),yt=r(661),St=r(533),Pt=r(576),Ct=r(724),vt=r(383),jt=r(662),Nt=r(577),At=r(384),Rt=r(73),wt=r(19),Tt=r(332),It=r(75),xt=r(47);function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Dt=e=>{let{influentialCitationCount:t}=e;return l.a.createElement("span",{className:"matched-author-list__citations"},l.a.createElement("span",{className:"matched-author-list__comma-prefix"},", "),l.a.createElement("em",{className:"text--orange"},Object(wt.f)(t))," highly influential"," ",Object(wt.n)(t,"citation","citations",!0))};Dt.propTypes={influentialCitationCount:U.a.number.isRequired};class Lt extends c.PureComponent{constructor(){super(...arguments),this.trackAuthorLinkClick=this.trackAuthorLinkClick.bind(this)}trackAuthorLinkClick(){Object(xt.a)(At.a.create(Rt.a.Serp.MATCHED_AUTHOR,{authorId:this.props.author.id,index:this.props.index}))}render(){return l.a.createElement("div",null,l.a.createElement(ge.a,{to:"AUTHOR_PROFILE",params:{authorId:this.props.author.id,slug:this.props.author.slug},onClick:this.trackAuthorLinkClick,className:"matched-author-list__author-name"},l.a.createElement("em",null,this.props.author.name)),this.props.author.influentialCitationCount>0?l.a.createElement(Dt,{influentialCitationCount:this.props.author.influentialCitationCount}):null)}}kt(Lt,"propTypes",{author:U.a.instanceOf(Tt.a).isRequired,index:U.a.number.isRequired,displayAsInfoBox:U.a.bool}),kt(Lt,"defaultProps",{displayAsInfoBox:!1});class Ft extends c.PureComponent{constructor(){super(...arguments),this.state={limit:3,hasReportedProblem:!0,hideReportProblem:!0},this.toggleDisplayLimit=this.toggleDisplayLimit.bind(this),this.submitMatchError=this.submitMatchError.bind(this)}componentDidMount(){Object(xt.a)(It.a.create(Rt.a.Serp.MATCHED_AUTHOR_LIST,{count:this.props.authors.size,authorIds:JSON.stringify(this.props.authors.map(e=>e.id))}))}toggleDisplayLimit(){this.setState(e=>{const t=3===e.limit?this.props.authors.size:3;return Object(xt.a)(At.a.create(Rt.a.Serp.MATCHED_AUTHOR_LIST_TOGGLE,{more:t===this.props.authors.size})),{limit:t}})}submitMatchError(){const e=this.props.authors.map(e=>{const t=Object(tt.e)({routeName:"AUTHOR_PROFILE_BY_ID",params:{authorId:e.id}}),r="".concat(document.location.protocol,"//").concat(document.location.host).concat(t);return{id:e.id,name:e.name,href:r}}),t={query:this.props.queryString,matchedAuthors:e};this.context.api.submitFeedback("Potential Author Match Issue | ".concat(JSON.stringify(t)),"s2-author-match-error@allenai.org"),this.setState({hasReportedProblem:!0})}componentDidUpdate(){this.state.hasReportedProblem&&!this.hideReportProblem&&(this.hideReportProblemsTimer=setTimeout(this.setState.bind(this,{hideReportProblem:!0}),5e3))}componentWillUnmount(){this.hideReportProblemsTimer&&clearTimeout(this.hideReportProblemsTimer)}renderAuthorList(){const e=this.props.authors.take(this.state.limit),t=this.props.authors.size>3,r=Ne()("matched-author-list__report-problems",{"matched-author-list__report-problems--with-divider":t,"matched-author-list__report-problems--problem-reported":this.state.hasReportedProblem});return l.a.createElement("div",{className:"matched-author-list"},this.props.displayAsInfoBox?null:l.a.createElement("div",{className:"flex-row-vcenter"},l.a.createElement(be.a,{icon:"author",className:"matched-author-list__header-icon",width:"18",height:"18"}),l.a.createElement("span",null,"Author profiles for ",l.a.createElement("em",null,this.props.queryString),":")),l.a.createElement("ul",null,e.map((e,t)=>l.a.createElement("li",{key:"matched-author-".concat(e.id,"-").concat(t)},l.a.createElement(Lt,{author:e,index:t})))),t?l.a.createElement("a",{onClick:this.toggleDisplayLimit,"data-test-id":"matched-author-list-toggle"},this.props.authors.size>this.state.limit?"See More":"See Less"):null,!this.state.hideReportProblem&&this.props.authors.size>1?l.a.createElement("span",{className:r},this.state.hasReportedProblem?l.a.createElement("span",null,l.a.createElement(be.a,{icon:"check",width:"14",height:"14"})," Thanks! We’ll look into it."):l.a.createElement("a",{onClick:this.submitMatchError},"Report duplicate authors")):null)}render(){return this.props.displayAsInfoBox?l.a.createElement(Nt.a,{title:"Authors",icon:"author"},this.renderAuthorList()):this.renderAuthorList()}}kt(Ft,"propTypes",{authors:U.a.instanceOf(st.a.List).isRequired,queryString:U.a.string.isRequired}),kt(Ft,"contextTypes",{api:U.a.instanceOf(ne.a).isRequired});var qt=r(578),Ut=r(663),Mt=r(463),Ht=r(464),Bt=r(431),Vt=r(82),Qt=r(116),Gt=r(51),Wt=r(112),Yt=r(12),zt=r(16),Kt=(r(42),r(492)),Jt=r(521),Xt=r(31),Zt=r(396),$t=r(465),er=r(69),tr=r(380),rr=r(190),ar=r.n(rr);function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ir extends c.PureComponent{constructor(e,t){super(e,t),sr(this,"onChangeSort",e=>{this.context.authorQueryStore.routeToSort(e,this.context.router)}),sr(this,"onChangeYearFilter",(e,t)=>{const{authorQueryStore:r,router:a}=this.context;r.routeToYearRange(e,t,a)}),sr(this,"onClickShowPublications",()=>{this.setState({showPublications:!0,showInfluenceGraph:!1})}),sr(this,"onClickShowInfluenceGraph",()=>{this.setState({showPublications:!1,showInfluenceGraph:!0})}),sr(this,"onChangeSearchQuery",e=>{this.setState({queryString:e.currentTarget.value})}),sr(this,"onSearchbarFocus",()=>{this.setState({isSearchbarFocused:!0})}),sr(this,"onSearchbarCondense",()=>{const e=document.getElementById("search-within-input");e&&e.blur(),this.setState({isSearchbarFocused:!1})}),sr(this,"onSearchWithin",e=>{e.preventDefault();const t=this.state.queryString.trim(),r=this.state.query.merge({queryString:t,page:1});zt.a.changeRouteForQuery(r,this.context.history,this.context.router),Object(xt.a)(Zt.a.create(Rt.a.AuthorHomePage.Publications.SEARCH,{queryString:t}))}),sr(this,"clearQueryString",()=>{this.setState({queryString:""})}),sr(this,"loadPage",e=>{if(e!==this.state.query.page){const t=ar.a.findDOMNode(this);let r=null;t instanceof HTMLElement&&(r=Gt.a.offsetFromBody(t)),Gt.a.scrollTop(this.props.layoutOptions.scrollToTopOfPage?0:r),this.context.authorQueryStore.routeToPage(e,this.context.router)}}),sr(this,"trackAuthorClick",e=>{let{paper:t,eventData:r,compData:a}=e;const{analyticsLocation:o}=this.context,{authorId:n}=a;Object(Vt.c)(nr({},Object(Vt.a)(this.context.authorQueryStore,{paperSha:t.id,paperIndex:r.index}),{authorId:parseInt(n)})),Object(_t.d)({paper:t,analyticsLocation:o,eventData:r,compData:a})}),this.state=nr({showPublications:!0,showInfluenceGraph:!1,isSearchbarFocused:!1},this.stateFromAuthorQueryStore(),{},this.stateFromUserPreferencesStore()),t.authorQueryStore.registerComponent(this,()=>{this.setState(nr({},this.stateFromAuthorQueryStore()))}),t.userPrefsStore.registerComponent(this,()=>{this.setState(nr({},this.stateFromUserPreferencesStore()))})}stateFromAuthorQueryStore(){const{authorQueryStore:e}=this.context,t=e._state;return{queryStoreState:t,query:e._query,queryString:e.getQueryString(),response:e._response,isFiltering:t===Yt.a.FILTERING,publicationSort:e.getQuery().sort}}stateFromUserPreferencesStore(){return{isCompact:!!this.context.userPrefsStore.getLocalPreference(er.a.DENSE_PAPER_VIEW)}}componentDidMount(){const{isCompact:e}=this.state;!this.context.envInfo.isMobile&&e?Object(xt.a)(It.a.create(Rt.a.AuthorHomePage.DENSE_PAPER_VIEW)):Object(xt.a)(It.a.create(Rt.a.AuthorHomePage.NORMAL_PAPER_VIEW))}renderStats(e){if(!(e.citationStats.numCitations>0||e.citationStats.hasKeyCitations()))return null;const{publicationSort:t}=this.state,r=t===Xt.a.INFLUENTIAL_CITATIONS.id,a=t===Xt.a.CITATION_ACCELERATION.id,o=t===Xt.a.CITATION_VELOCITY.id;return c.createElement(Et.default,{paper:e,hic:r,acceleration:a,velocity:o})}renderResults(){const{authorDetail:e}=this.props,{isCompact:t,query:r,response:{results:a}}=this.state,o=!this.context.envInfo.isMobile&&t,n=Ne()("author-page-details__paper-row",{"paper-row-dense":o,"paper-row-normal":!o});return a.map((t,a)=>c.createElement(_t.c,{key:t.id,paper:t,eventData:{authorId:e.author.id,index:(r.page-1)*r.pageSize+a},onClickAuthor:this.trackAuthorClick,onHoverStats:!0},c.createElement(Ot.default,{paper:t,className:n,controls:c.createElement(ft.default,{paper:t,stats:this.renderStats(t)}),abstract:!o&&c.createElement(Ht.a,{paper:t,query:r.queryString})})))}renderNoResults(){const{querySuggestions:e}=this.state.response,t=!(e&&!e.isEmpty())?void 0:e.first().text;return c.createElement(Pt.a,{query:this.state.query.queryString,hasFacets:this.state.response.hasFacets(),suggestedQuery:t})}renderAuthor(){const{isFiltering:e,response:t,query:r,showPublications:a,showInfluenceGraph:o,isSearchbarFocused:n}=this.state,{layoutOptions:s,authorDetail:l}=this.props,{authorQueryStore:u}=this.context,{results:p,matchedAuthors:h}=t,{author:{name:d}}=l;return c.createElement(yt.a,null,c.createElement(Ut.a,{className:"filter",side:"left"},c.createElement(mt.a,{showAHPExplanation:!0}),c.createElement(bt.a,{recommendations:l.recommendedAuthors,maxResults:4})),c.createElement(jt.a,{className:"results"},c.createElement("div",{className:"author-page-content-tabs"},c.createElement("ul",{className:"author-page-content-tabs__list"},c.createElement("li",{key:"publications",onClick:this.onClickShowPublications,className:Ne()({"is-active":a})},c.createElement(be.a,{icon:"tab-papers",width:"9",height:"12"}),Object(i.c)(e=>e.author.tabs.papers)),c.createElement("li",{key:"influence",onClick:this.onClickShowInfluenceGraph,className:Ne()({"is-active":o})},c.createElement(be.a,{icon:"tab-influence",width:"21",height:"21"}),c.createElement("span",{className:"author-page-content-tab__influence-label"},Object(i.c)(e=>e.author.tabs.influence)))),c.createElement(qt.a,{title:d,label:Object(i.c)(e=>e.socialShareOptions.shareButtonLabel.shareAuthor)})),h.isEmpty()?null:c.createElement(Ft,{queryString:r.queryString,authors:h}),a&&c.createElement(c.Fragment,null,c.createElement(St.a,{className:"author-page-content__filters dropdown-filters-breakpoints__ahp",config:Bt.a,onChangeYearFilter:this.onChangeYearFilter,query:this.state.query,response:this.state.response,sortControl:c.createElement(Mt.a,{className:"dropdown-filters__sort-control",onChangeSort:this.onChangeSort,options:s.sorts,displayType:s.sortDisplayType,sort:r.sort}),injectQueryStore:u,isSearchbarFocused:n,onClearFilters:this.clearQueryString,doFullQueryReset:!0,searchControl:this.renderSearchControl()}),c.createElement("div",{className:Ne()("result-page",{"is-filtering":e})},p.isEmpty()?this.renderNoResults():this.renderResults()),c.createElement("div",{className:"flex-row"},t.totalPages>1&&c.createElement(gt.default,{onPaginate:this.loadPage,pageNumber:r.page,totalPages:t.totalPages}))),o&&c.createElement(Ct.a,{authorDetail:l})))}renderSearchControl(){const{isSearchbarFocused:e}=this.state,{authorQueryStore:t}=this.context;return c.createElement(c.Fragment,null,c.createElement(Jt.a,{formId:"author-paper-search-text-form",containerClass:"search-within",placeholder:Object(i.c)(e=>e.author.searchPlaceholder),suggestionType:$t.a.AUTHOR_PAPER,injectQueryStore:t,isSearchbarFocused:e,onSearchbarCondense:this.onSearchbarCondense,onSearchbarFocus:this.onSearchbarFocus,useOverlay:!0}),e&&c.createElement("div",{className:"dropdown-filters__modal-button"},c.createElement(tr.default,{type:tr.TYPE.SECONDARY,label:Object(i.c)(e=>e.filterBar.dropdownLabels.showFilters),onClick:this.onSearchbarCondense})))}render(){const{queryStoreState:e}=this.state;return e===Yt.a.LOADING?c.createElement("section",{className:"content",role:"main",id:"main-content"},c.createElement("div",{className:"container loading-controls flex-row-vcenter"},c.createElement(vt.a,{testId:"icon-loading-serp"})," Loading results")):c.createElement("section",{className:"content"},this.renderAuthor())}}sr(ir,"contextTypes",{analyticsLocation:U.a.object,authorQueryStore:U.a.instanceOf(Qt.a).isRequired,envInfo:U.a.instanceOf(Wt.a).isRequired,history:U.a.instanceOf(F.a).isRequired,router:U.a.object.isRequired,userPrefsStore:U.a.instanceOf(er.b).isRequired});var cr=r(390);class lr extends c.PureComponent{render(){const{author:e}=this.props,t=new Kt.a({showSortExplanation:!0,filtersExpandedByDefault:!0,showResultCount:!1,sortDisplayType:"tabs",scrollToTopOfPage:!1,searchResultLayout:{showSortStat:!0},sorts:Xt.a.authorPaperSearch()});return c.createElement("div",{className:"author-page-content-section"},c.createElement("div",{className:"author-publications-list"},c.createElement(ir,{layoutOptions:t,authorDetail:e})))}}var ur=Object(cr.b)(Rt.a.AuthorHomePage.Publications)(lr);class pr extends c.PureComponent{render(){const{author:e}=this.props;return c.createElement(c.Fragment,null,e.isClaimedBySignedInUser&&e.hasPendingCorrections&&c.createElement("div",{className:"author-page__corrections-pending"},c.createElement(be.a,{icon:"status-waiting"}),c.createElement("div",{className:"author-page__corrections-pending__label"},Object(i.c)(e=>e.author.correctionPending.label))),c.createElement("div",{className:"container author-page-content",role:"main"},c.createElement(ur,{author:e,ref:"author-search-results"})))}}var hr=r(26);function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function br(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class gr extends c.Component{constructor(){super(...arguments);const{authorStore:e,authorQueryStore:t}=this.context;this.state=mr({},this.getStateFromAuthorStore()),e.registerComponent(this,()=>{this.setState(this.getStateFromAuthorStore)}),t.registerComponent(this,()=>{this.setState({loading:e.isLoading()||t.isLoading()})})}getStateFromAuthorStore(){const{authorStore:e,authorQueryStore:t}=this.context;return{loading:e.isLoading()||t.isLoading(),author:e.authorDetail}}renderLoading(){return c.createElement("div",{className:"flex-row-vcenter loading container",role:"main",id:"main-content"},c.createElement(vt.a,{testId:"icon-loading-ahp"}),"Loading author…")}scrollToSearchResults(){const{history:e}=this.context,t=Object(hr.o)(e.location.search);if(t.scrollToResults&&!this.state.loading){const r=ar.a.findDOMNode(this.refs["author-search-results"]);r instanceof HTMLElement&&Gt.a.smoothScrollTo(r,()=>{e.replace({pathname:e.location.pathname,search:Object(hr.a)(mr({},t))})})}}componentDidUpdate(){this.scrollToSearchResults()}componentDidMount(){this.scrollToSearchResults()}render(){const{author:e,loading:t}=this.state;return c.createElement(et.a,{footer:!t,className:"author-page"},t?this.renderLoading():c.createElement("div",{className:"author-page-layout"},c.createElement("div",{className:"content"},e&&c.createElement(pr,{author:e}))),Object(it.b)(this.props.route.routes))}}br(gr,"contextTypes",{api:U.a.instanceOf(ne.a).isRequired,authorQueryStore:U.a.instanceOf(Qt.a).isRequired,authorStore:U.a.instanceOf(Re.a).isRequired,history:U.a.instanceOf(F.a).isRequired});var _r=r(1),fr=r(114);class Or extends c.Component{static getPageTitle(e){var t;let{authorStore:r}=e;const{authorDetail:a}=r,o=null!=(t=a)&&null!=(t=t.author)?t.name:t;return o?Object(i.c)(e=>e.author.pageTitleWithAuthor,o):Object(i.c)(e=>e.author.pageTitleWithoutAuthor)}static getPageMetaDescription(e){let{authorStore:t}=e;const{authorDetail:r}=t;if(r)return r.authorPageMetaDescription()}static getCanonicalUrl(e){if(e.params.slug){const{authorId:t,slug:r}=e.params;return Object(tt.e)({routeName:"AUTHOR_PROFILE",params:{authorId:t,slug:r}})}}static getRobotDirectives(e,t){let{history:r}=t;Object.keys(r.locationQueryParams).length>0&&(e.shouldIndex=!1)}static async willRouteTo(e,t){const{authorStore:r,authStore:a,api:o,dispatcher:n}=e,{authorId:s,slug:i}=t.params;r.isNewOrCanonicalAuthor(s,i)&&n.dispatch({actionType:_r.a.actions.AUTHOR_QUERY_UPDATED,query:{}});const c=[];return c.push(Qt.a.executeAHPQuery(e,t)),a.hasAuthenticatedUser()&&s&&c.push(o.findAlertByQueryTypeAndValue(fr.c.AUTHOR_PAPER,s),o.findAlertByQueryTypeAndValue(fr.c.AUTHOR_CITATION,s)),Promise.all(c)}render(){return c.createElement(gr,this.props)}}var Er=r(664),yr=r(665),Sr=r(666),Pr=r(667),Cr=r(668);function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class jr extends c.Component{render(){return c.createElement(Cr.b,null)}}vr(jr,"getPageMetaDescription",()=>Object(i.c)(e=>e.metaDescription.crawlerPage.content)),vr(jr,"getPageTitle",()=>[Object(i.c)(e=>e.metaDescription.crawlerPage.title),Object(i.c)(e=>e.general.appName)].join(" | "));var Nr=r(625);function Ar(){return c.createElement(Nr.a,null)}class Rr extends c.Component{static getPageTitle(e){let{alertsStore:t}=e;const{newAlert:r}=t;b()(r,"There must be a newAlert in the alertsStore to render the CreateAlertsPage");const{queryType:a}=r,o=Object(i.c)(e=>e.alerts.create[a].title),n=Object(i.c)(e=>e.general.appName);return"".concat(o," | ").concat(n)}static async willRouteTo(e){let{alertsStore:t}=e;if(!t.isCreatingAlert())return new h.a({path:tt.b.HOME,replace:!0})}render(){return c.createElement(Ar,null)}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Rr,"requiresAuthentication",()=>!0);class wr extends c.Component{render(){var e;const t=(null!=(e=this.props)&&null!=(e=e.match)&&null!=(e=e.params)?e.component:e)||null;return c.createElement(s.a,{footer:!1,compProps:{componentName:t},load:{importer:()=>r.e(32).then(r.bind(null,848)),chunkName:"shared-DebugComponentLibraryPage",moduleId:848}})}}var Tr=r(669);class Ir extends c.Component{render(){var e;const t=(null!=(e=this.props)&&null!=(e=e.match)&&null!=(e=e.params)?e.paperId:e)||null;return c.createElement(s.a,{footer:!1,compProps:{paperId:t},load:{importer:()=>r.e(4).then(r.bind(null,881)),chunkName:"debug-DebugPdfPage",moduleId:881}})}}class xr extends c.Component{render(){return c.createElement(s.a,{footer:!1,load:{importer:()=>r.e(34).then(r.bind(null,863)),chunkName:"shared-DebugSpritesPage",moduleId:863}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(xr,"pageTitle",()=>Object(i.c)(e=>e.general.appName));var kr=r(670),Dr=r(671),Lr=r(672);function Fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class qr extends c.Component{render(){return c.createElement(s.a,{footer:!1,load:{importer:()=>r.e(12).then(r.bind(null,885)),chunkName:"desktop-FAQPage",moduleId:885}})}}Fr(qr,"getPageMetaDescription",()=>Object(i.c)(e=>e.metaDescription.faqPage.content)),Fr(qr,"getPageTitle",()=>[Object(i.c)(e=>e.faq.title),Object(i.c)(e=>e.general.appName)].join(" | "));var Ur=r(673),Mr=r(581),Hr=r(674),Br=r(675),Vr=r(582),Qr=r(583),Gr=r(676),Wr=r(584);function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class zr extends c.Component{static async willRouteTo(e){let{api:t}=e;return t.fetchModerationStats()}render(){const{route:e}=this.props;return c.createElement(s.a,{footer:!1,compProps:{route:e},load:{importer:()=>r.e(13).then(r.bind(null,890)),chunkName:"desktop-ModerationPage",moduleId:890}})}}Yr(zr,"getPageTitle",()=>Object(i.c)(e=>e.moderation.pageTitle)),Yr(zr,"requiresAuthentication",()=>!0);class Kr extends c.Component{render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(14).then(r.bind(null,864)),chunkName:"desktop-ModeratorAuthorCorrectionsInputPage",moduleId:864}})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Kr,"getPageTitle",()=>Object(i.c)(e=>e.moderatorCorrections.input.pageTitle));class Jr extends c.Component{render(){const{route:e}=this.props;return c.createElement(s.a,{showLoadingPage:!1,compProps:{route:e},load:{importer:()=>r.e(15).then(r.bind(null,865)),chunkName:"desktop-ModeratorAuthorCorrectionsToolPage",moduleId:865}})}}var Xr=r(677),Zr=r(678),$r=r(739),ea=r(679);class ta extends c.Component{static getCanonicalUrl(e){if(e.params.slug){const{paperId:t,slug:r,uniqueId:a}=e.params;return Object(tt.e)({routeName:"PAPER_DETAIL_VIDEO",params:{paperId:t,slug:r,uniqueId:a}})}}render(){var e;const t=(null!=(e=this.props)&&null!=(e=e.match)&&null!=(e=e.params)?e.uniqueId:e)||null;return c.createElement(s.a,{showLoadingPage:!1,compProps:{uniqueId:t},load:{importer:()=>Promise.all([r.e(1),r.e(17)]).then(r.bind(null,886)),chunkName:"desktop-PaperDetailVideoPage",moduleId:886}})}}var ra=r(681),aa=r(726),oa=r(682),na=r(720);class sa extends c.PureComponent{static willRouteTo(){return new h.a({path:"https://research.semanticscholar.org",replace:!0,status:302})}render(){return null}}var ia=r(683),ca=r(409),la=r(445),ua=r(393),pa=r(398),ha=r(684),da=r(748),ma=r(685),ba=r(11),ga=r(115),_a=r(121);function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(r),!0).forEach((function(t){Ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ya=c.createContext({isFirstFeedLink:!1});class Sa extends c.PureComponent{constructor(){super(...arguments),Ea(this,"trackAuthorClick",e=>{let{paper:t,eventData:r,compData:a}=e;const{analyticsLocation:o,queryStore:n}=this.context,{authorId:s}=a,i=Object(Vt.a)(n,{paperSha:t.id,paperIndex:r.index});Object(Vt.c)(Oa({},i,{authorId:parseInt(s)})),Object(_t.d)({paper:t,analyticsLocation:o,eventData:r,compData:a})}),Ea(this,"trackCiteClick",e=>{let{paper:t,eventData:r,compData:a}=e;const{analyticsLocation:o,queryStore:n}=this.context,s=Object(Vt.a)(n,{paperSha:t.id,paperIndex:r.index});Object(Vt.d)(s),Object(_t.e)({paper:t,analyticsLocation:o,eventData:r,compData:a})}),Ea(this,"trackLibraryClick",e=>{let{paper:t,eventData:r,compData:a}=e;const{analyticsLocation:o,queryStore:n}=this.context,s=Object(Vt.a)(n,{paperSha:t.id,paperIndex:r.index});Object(Vt.e)(s),Object(_t.f)({paper:t,analyticsLocation:o,compData:a,eventData:r})}),Ea(this,"trackPaperClick",e=>{let{paper:t,eventData:r,compData:a}=e;const{analyticsLocation:o,queryStore:n}=this.context,{linkType:s,linkUrl:i}=a,c=Object(Vt.a)(n,{paperSha:t.id,paperIndex:r.index});Object(Vt.f)(Oa({},c,{linkType:s,linkUrl:i})),Object(_t.h)({paper:t,analyticsLocation:o,compData:a,eventData:r})}),Ea(this,"trackTitleClick",e=>{let{paper:t,eventData:r,compData:a}=e;const{analyticsLocation:o,queryStore:n}=this.context,s=Object(Vt.a)(n,{paperSha:t.id,paperIndex:r.index});Object(Vt.g)(s),Object(_t.g)({paper:t,analyticsLocation:o,eventData:r,compData:a})}),Ea(this,"trackSwap",(e,t)=>{const{query:{page:r},response:{results:a}}=this.props;if(this.context.weblabStore.isFeatureEnabled(ba.b.SerpSwapAtTen)&&1===r){const e=this.swapResults(a),r={swapIndex:this.state.swapIndex,clickIndex:t,rawCandidates:a.map(e=>e.id),swappedCandidates:e.map(e=>e.id)};Object(_a.a)(Rt.a.Serp.SWAP,r)}}),Ea(this,"swapResults",e=>e),Ea(this,"loadPage",e=>{e!==this.props.query.page&&(Gt.a.scrollTop(this.props.layoutOptions.scrollToTopOfPage?0:Gt.a.offsetFromBody(ar.a.findDOMNode(this))),this.context.queryStore.routeToPage(e,this.context.router))}),Ea(this,"onChangeSort",e=>{const{queryStore:t,router:r}=this.context;this.setState({showInfluentialCounts:e===Xt.a.INFLUENTIAL_CITATIONS.id}),t.routeToSort(e,r)}),Ea(this,"onChangeYearFilter",(e,t)=>{const{queryStore:r,router:a}=this.context;r.routeToYearRange(e,t,a)});const e=this.props.response.results.size,t=this.props.query.sort;this.state={swapIndex:Math.floor(Math.random()*Math.min(10,e)),showInfluentialCounts:t===Xt.a.INFLUENTIAL_CITATIONS.id}}componentDidMount(){const{isCompact:e}=this.props;e?Object(xt.a)(It.a.create(Rt.a.Serp.DENSE_PAPER_VIEW)):Object(xt.a)(It.a.create(Rt.a.Serp.NORMAL_PAPER_VIEW))}componentWillReceiveProps(e){const t=this.props.response.results,r=e.response.results;if(!t.equals(r)){const t=e.response.results.size;this.setState({swapIndex:Math.floor(Math.random()*Math.min(10,t))})}}componentDidUpdate(e){if(!st.a.is(e.response,this.props.response)&&!this.props.response.results.isEmpty()){const e=Gt.a.scrollTop(),t=this.refs["search-result-".concat(this.props.response.results.size-1)];if(t){const r=Gt.a.offsetFromBody(t);r<e&&Gt.a.scrollTop(r-20)}}}buildResultNodes(e){const{isCompact:t,query:r}=this.props,{showInfluentialCounts:a}=this.state,o=Ne()("serp-papers__paper-row",{"paper-row-dense":t,"paper-row-normal":!t});return e.map((e,n)=>c.createElement(ya.Provider,{key:e.id,value:{isFirstFeedLink:0===n}},c.createElement(_t.c,{key:e.id,paper:e,eventData:{index:(r.page-1)*r.pageSize+n},onClickAuthor:this.trackAuthorClick,onClickCite:this.trackCiteClick,onClickLibrary:this.trackLibraryClick,onClickViewPaper:this.trackPaperClick,onClickTitle:this.trackTitleClick,onHoverStats:!0},c.createElement(Ot.default,{paper:e,className:o,controls:c.createElement(ft.default,{paper:e,stats:c.createElement(Et.default,{paper:e,hic:a})}),abstract:!t&&c.createElement(Ht.a,{paper:e,query:r.queryString}),meta:c.createElement(la.default,{paper:e,authors:!0})}))))}renderResults(){const{response:{results:e},query:t}=this.props,r=this.context.weblabStore.isFeatureEnabled(ba.b.SerpSwapAtTen)&&1===t.page?this.swapResults(e):e;return this.buildResultNodes(r)}renderNoResults(){const{querySuggestions:e}=this.props.response,t=!(e&&!e.isEmpty())?void 0:e.first().text;return c.createElement(Pt.a,{query:this.props.query.queryString,hasFacets:this.props.response.hasFacets(),suggestedQuery:t})}renderFreshSerpContent(){const{response:e,isFiltering:t,layoutOptions:r,query:a}=this.props,{matchedAuthors:o,totalPages:n,matchedEntity:s,modifiedQueryString:i}=e;return c.createElement("div",{className:Ne()("fresh-serp","fresh-serp-column")},c.createElement(St.a,{className:"dropdown-filters-breakpoints__serp",config:Bt.d,injectQueryStore:this.context.queryStore,layoutOptions:r,onChangeYearFilter:this.onChangeYearFilter,showResultCount:!0,query:a,response:e,sortControl:c.createElement(Mt.a,{className:"dropdown-filters__sort-control",onChangeSort:this.onChangeSort,options:r.sorts,displayType:r.sortDisplayType,sort:a.sort})}),c.createElement(ua.a,{layoutMed:"column-reverse",className:"centered-max-width-content",role:"main",id:"main-content"},c.createElement(pa.a,{width:"66",className:"flex-item__left-column",testId:"results"},o.isEmpty()?null:c.createElement(ha.a,{queryString:a.queryString,authors:o}),i?c.createElement(ma.a,{originalQuery:e.query.queryString,modifiedQuery:i}):null,c.createElement("div",{className:Ne()("result-page",{"is-filtering":t})},this.renderResults()),c.createElement(gt.default,{className:"flex-right",onPaginate:this.loadPage,pageNumber:a.page,totalPages:n})),c.createElement(pa.a,{width:"33",className:"flex-item__right-column"},s?c.createElement(da.a,{entity:s}):null)))}renderFreshSerpNoResults(){const{isFiltering:e}=this.props;return c.createElement("div",{className:"fresh-serp"},c.createElement(ua.a,{className:"centered-max-width-content",role:"main",id:"main-content"},c.createElement(pa.a,{width:"66",className:"flex-item__left-column"},c.createElement("div",{className:Ne()("result-page",{"is-filtering":e})},this.renderNoResults()))))}render(){return this.props.response.results.isEmpty()?this.renderFreshSerpNoResults():this.renderFreshSerpContent()}}function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ca(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ea(Sa,"contextTypes",{analyticsLocation:U.a.object,queryStore:U.a.instanceOf(ga.a).isRequired,router:U.a.object.isRequired,weblabStore:U.a.instanceOf(at.b).isRequired}),Ea(Sa,"propTypes",{isFiltering:U.a.bool,isCompact:U.a.bool.isRequired,query:U.a.object.isRequired,response:U.a.object.isRequired,layoutOptions:U.a.object.isRequired});class va extends c.PureComponent{constructor(){super(...arguments),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(r),!0).forEach((function(t){Ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.stateFromQueryStore(),{},this.stateFromUserPreferencesStore()),this.context.queryStore.registerComponent(this,()=>{this.setState(this.stateFromQueryStore())}),this.context.userPrefsStore.registerComponent(this,()=>{this.setState(this.stateFromUserPreferencesStore())})}stateFromQueryStore(){return{queryStoreState:this.context.queryStore._state,query:this.context.queryStore._query,response:this.context.queryStore._response}}stateFromUserPreferencesStore(){return{isCompact:!!this.context.userPrefsStore.getLocalPreference(er.a.DENSE_PAPER_VIEW)}}render(){const{queryStoreState:e,query:t,response:r,isCompact:a}=this.state;return e===Yt.a.LOADING||e===Yt.a.INITIALIZED?c.createElement("section",{className:"content",role:"main",id:"main-content"},c.createElement("div",{className:"container loading-controls flex-row-vcenter"},c.createElement(vt.a,{testId:"icon-loading-serp"})," Loading results")):c.createElement(Sa,{isCompact:a,query:t,response:r,layoutOptions:this.props.layoutOptions,isFiltering:e===Yt.a.FILTERING})}}Ca(va,"contextTypes",{queryStore:U.a.instanceOf(ga.a).isRequired,userPrefsStore:U.a.instanceOf(er.b).isRequired,weblabStore:U.a.instanceOf(at.b).isRequired}),Ca(va,"propTypes",{isAuthorHomePage:U.a.bool,layoutOptions:U.a.object.isRequired});var ja=r(144);function Na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Aa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ra=Object(cr.b)(Rt.a.Serp)(ca.a),wa=Object(cr.b)(Rt.a.Serp)(va);class Ta extends c.Component{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];super(e,...r),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(r),!0).forEach((function(t){Aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.stateFromQueryStore()),this.context.queryStore.registerComponent(this,()=>{this.setState(this.stateFromQueryStore())})}stateFromQueryStore(){return{isLoading:this.context.queryStore.isLoading()}}render(){const{isLoading:e}=this.state,t=new Kt.a;return c.createElement(et.a,{className:"search",header:c.createElement(Ra,{showSearchBar:!0,submitSearchOnFieldOfStudyChange:!0}),footer:!e},c.createElement(wa,{layoutOptions:t}))}}Aa(Ta,"contextTypes",{alertsStore:U.a.instanceOf(ja.a).isRequired,api:U.a.instanceOf(ne.a).isRequired,authStore:U.a.instanceOf(se.a).isRequired,queryStore:U.a.instanceOf(ga.a).isRequired});class Ia extends c.Component{static getPageTitle(e){let{queryStore:t}=e;const r=t.getQueryString();return r?Object(i.c)(e=>e.serp.pageTitleWithQuery,r):Object(i.c)(e=>e.serp.pageTitleWithoutQuery)}static async willRouteTo(e,t){const{api:r,authStore:a}=e,{query:{serverSideSearch:o}}=t;if(!Object(re.a)()&&!o)return ga.a.setQueryAndLoadingState(e,t);const n=ga.a.executeSearchQuery(e,t),s=await Promise.all([n]),i=s[0];if(!i.resultData)return i;const{matchedEntity:c}=i.resultData;return a.hasAuthenticatedUser()&&c?[...s,r.findAlertByQueryTypeAndValue(fr.c.ENTITY_PAPER,c.id)]:s}render(){return c.createElement(Ta,null)}}var xa=r(686),ka=r(687),Da=r(688),La=r(740),Fa=r(741),qa=r(689);class Ua extends c.Component{render(){return c.createElement(s.a,{showLoadingPage:!1,load:{importer:()=>r.e(18).then(r.bind(null,891)),chunkName:"desktop-PdfReaderPage",moduleId:891}})}}t.default=[Object(qa.a)({component:k.a,routes:[Object(qa.a)({path:tt.b.HOME,exact:!0,component:Br.a}),Object(qa.a)({path:tt.b.ENTITY_LANDING,exact:!0,component:kr.a}),Object(qa.a)({path:tt.b.ENTITY_BY_ID,exact:!0,component:Dr.a}),Object(qa.a)({path:tt.b.ENTITY,component:Lr.a}),Object(qa.a)({path:tt.b.SEARCH,component:Ia}),Object(qa.a)({path:tt.b.PAPER_LANDING,exact:!0,component:ra.a}),Object(qa.a)({path:tt.b.PAPER_DETAIL_BY_ID,exact:!0,component:$r.a}),Object(qa.a)({path:tt.b.PAPER_DETAIL_PDF_REDIRECT,exact:!0,component:$r.a}),Object(qa.a)({path:tt.b.PAPER_DETAIL_PDF_DATA,exact:!0,component:Ua}),Object(qa.a)({path:tt.b.PAPER_DETAIL_CITED_BY,component:$r.a}),Object(qa.a)({path:tt.b.PAPER_DETAIL_REFERENCES,component:$r.a}),Object(qa.a)({path:tt.b.PAPER_DETAIL,component:ea.a,routes:[Object(qa.a)({path:tt.b.PAPER_DETAIL_FIGURE,component:Zr.a}),Object(qa.a)({path:tt.b.PAPER_DETAIL_VIDEO,component:ta})]}),Object(qa.a)({path:tt.b.AUTHOR_ONBOARDING,component:dt,routes:[Object(qa.a)({path:tt.b.AUTHOR_ONBOARDING_PROFILE,component:He}),Object(qa.a)({path:tt.b.AUTHOR_ONBOARDING_REMOVE_PAPERS,component:Je}),Object(qa.a)({path:tt.b.AUTHOR_ONBOARDING_ADD_PAPERS,component:me}),Object(qa.a)({path:tt.b.AUTHOR_ONBOARDING_COMPLETE,component:ve})]}),Object(qa.a)({path:tt.b.ADMIN_EXPERIMENT_AUDIT,component:A}),Object(qa.a)({path:tt.b.ADMIN,component:v,routes:[Object(qa.a)({path:tt.b.ADMIN_EXPERIMENTS,component:j}),Object(qa.a)({path:tt.b.ADMIN_FEATURE_FLAGS,component:R}),Object(qa.a)({path:tt.b.ADMIN_LOGIN_AS,component:w}),Object(qa.a)({path:tt.b.ADMIN_MANAGE_USERS,component:T})]}),Object(qa.a)({path:tt.b.MODERATION,component:zr,routes:[Object(qa.a)({path:tt.b.AUTHOR_CLAIM_MODERATION,component:H}),Object(qa.a)({path:tt.b.AUTHOR_CORRECTIONS_TOOL,component:Jr,routes:[Object(qa.a)({path:tt.b.AUTHOR_CORRECTIONS_TOOL_AUTHOR_INPUT,component:Kr}),Object(qa.a)({path:tt.b.AUTHOR_CORRECTIONS_TOOL_CONTACT,component:d}),Object(qa.a)({path:tt.b.AUTHOR_CORRECTIONS_TOOL_REMOVE_PAPERS,component:y}),Object(qa.a)({path:tt.b.AUTHOR_CORRECTIONS_TOOL_ADD_PAPERS,component:u}),Object(qa.a)({path:tt.b.AUTHOR_CORRECTIONS_TOOL_STATUS,component:_})]})]}),Object(qa.a)({path:tt.b.AUTHOR_LANDING,exact:!0,component:Q.a}),Object(qa.a)({path:tt.b.AUTHOR_PROFILE_BY_CLAIMED,component:V.a}),Object(qa.a)({path:tt.b.AUTHOR_CLAIM,component:B.a}),Object(qa.a)({path:tt.b.AUTHOR_CLAIM_COMPLETE,component:D.a}),Object(qa.a)({path:tt.b.AUTHOR_PROFILE_BY_ID,exact:!0,component:Or}),Object(qa.a)({path:tt.b.AUTHOR_PROFILE,component:Or}),Object(qa.a)({path:tt.b.CREATE_ALERT,component:Rr}),Object(qa.a)({path:tt.b.ALERTS,component:x.a}),Object(qa.a)({path:tt.b.ALERTS_UNSUBSCRIBE,component:La.a}),Object(qa.a)({path:tt.b.ALERTS_UNSUBSCRIBE_ALL,component:La.a}),Object(qa.a)({path:tt.b.LIBRARY_WITH_FOLDERS,component:Gr.a,routes:[Object(qa.a)({path:tt.b.LIBRARY_ALL_ENTRIES,exact:!0,component:Vr.b}),Object(qa.a)({path:tt.b.LIBRARY_UNSORTED_ENTRIES,exact:!0,component:Wr.b}),Object(qa.a)({path:tt.b.LIBRARY_FOLDER,exact:!0,component:Qr.b})]}),Object(qa.a)({path:tt.b.FEEDS,exact:!0,component:Ur.a}),Object(qa.a)({path:tt.b.FEEDS_FEED,component:Mr.a,routes:[Object(qa.a)({path:tt.b.FEEDS_RECOMMENDATIONS,component:Hr.a})]}),Object(qa.a)({path:tt.b.ACCOUNT,component:E.a,routes:[Object(qa.a)({path:tt.b.ACCOUNT_AUTHOR_CLAIM_PENDING,component:p}),Object(qa.a)({path:tt.b.ACCOUNT_AUTHOR_UNCLAIM_SUCCESS,component:g}),Object(qa.a)({path:tt.b.ACCOUNT_AUTHOR_CONTACT,component:d}),Object(qa.a)({path:tt.b.ACCOUNT_ALERTS,component:I.a}),Object(qa.a)({path:tt.b.ACCOUNT_REMOVE_PAPERS,component:y}),Object(qa.a)({path:tt.b.ACCOUNT_ADD_PAPERS,component:u}),Object(qa.a)({path:tt.b.ACCOUNT_CORRECTIONS,component:_}),Object(qa.a)({path:tt.b.ACCOUNT_CONTACT,component:f.a}),Object(qa.a)({path:tt.b.ACCOUNT_MANAGE,component:O.a})]}),Object(qa.a)({path:tt.b.USER_VERIFY_EMAIL,component:Fa.a}),Object(qa.a)({path:tt.b.SIGN_IN,component:xa.a}),Object(qa.a)({path:tt.b.SIGN_OUT,component:ka.a}),Object(qa.a)({path:tt.b.ADD_ENROLLMENT_REDIRECT,component:S.a}),Object(qa.a)({path:tt.b.REMOVE_ENROLLMENT_REDIRECT,component:oa.a}),Object(qa.a)({path:tt.b.CRAWLER,component:jr}),Object(qa.a)({path:tt.b.FAQ,component:qr}),Object(qa.a)({path:tt.b.PRODUCT_PAGE,component:ia.a}),Object(qa.a)({path:tt.b.ABOUT_ROOT,component:ia.a}),Object(qa.a)({path:tt.b.ABOUT_PAGE,component:ia.a}),Object(qa.a)({path:tt.b.RESEARCH_ROOT,component:ia.a}),Object(qa.a)({path:tt.b.RESEARCH_PAGE,component:ia.a}),Object(qa.a)({path:tt.b.RESOURCES_ROOT,component:ia.a}),Object(qa.a)({path:tt.b.RESOURCES_PAGE,component:ia.a}),Object(qa.a)({path:tt.b.CORD19_HOME,exact:!0,component:Er.a}),Object(qa.a)({path:tt.b.CORD19_ABOUT,component:yr.a}),Object(qa.a)({path:tt.b.CORD19_GET_STARTED,component:Pr.a}),Object(qa.a)({path:tt.b.CORD19_DOWNLOAD,component:Sr.a}),Object(qa.a)({path:tt.b.DEBUG_COMPONENT_LIBRARY,exact:!0,component:wr}),Object(qa.a)({path:tt.b.DEBUG_COMPONENT_LIBRARY_COMPONENT,component:wr}),Object(qa.a)({path:tt.b.DEBUG_COMPONENT_LIBRARY_PREVIEW,component:Tr.a}),Object(qa.a)({path:tt.b.DEBUG_PDF,component:Ir}),Object(qa.a)({path:tt.b.DEBUG_SPRITES,component:xr}),Object(qa.a)({path:tt.b.RESEARCH,exact:!0,component:sa}),Object(qa.a)({path:tt.b.RESEARCH_HOMEPAGE,exact:!0,component:na.a}),Object(qa.a)({path:tt.b.RECOMMENDATIONS,exact:!0,component:aa.a}),Object(qa.a)({path:tt.b.SWIPE,component:Da.a}),Object(qa.a)({path:tt.b.NOT_FOUND,exact:!0,component:Xr.a}),Object(qa.a)({component:Xr.a})]})]}}]);
//# sourceMappingURL=bundle-19.js.map